Reusing configuration cache.
> Task :backend:processTestResources
> Task :backend:processResources
> Task :backend:compileJava UP-TO-DATE
> Task :backend:classes
> Task :backend:compileTestJava UP-TO-DATE
> Task :backend:testClasses

> Task :backend:test

Testes do E2eController (Backend Support) > Deve lidar com erro ao resetar banco FAILED
    org.opentest4j.AssertionFailedError: Expected java.lang.RuntimeException to be thrown, but nothing was thrown.
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:159)
        at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:74)
        at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)
        at app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3223)
        at app//sgc.e2e.E2eControllerTest.deveLidarComErroAoResetarBanco(E2eControllerTest.java:313)

CDU-09: Fluxo Completo de Disponibilização > Fluxo Principal - Visualizar, Preparar e Disponibilizar Cadastro FAILED
    java.lang.AssertionError: Status expected:<422> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU09IntegrationTest.fluxoCompletoDisponibilizacao(CDU09IntegrationTest.java:121)

CDU-10: Disponibilizar Revisão do Cadastro de Atividades e Conhecimentos > Deve excluir histórico de análises anteriores quando disponibilizar revisão novamente FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU10IntegrationTest.deveExcluirHistoricoAposNovaDisponibilizacao(CDU10IntegrationTest.java:211)

CDU-11: Visualizar cadastro de atividades e conhecimentos > Testes de Cenário de Sucesso > Deve permitir que GESTOR visualize o cadastro de qualquer unidade FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.mocks.TestLoginHelper.login(TestLoginHelper.java:67)
        at sgc.integracao.mocks.TestLoginHelper.loginChefe(TestLoginHelper.java:94)
        at sgc.integracao.CDU11IntegrationTest.setUp(CDU11IntegrationTest.java:85)

CDU-11: Visualizar cadastro de atividades e conhecimentos > Testes de Cenário de Sucesso > Deve retornar o cadastro completo de atividades e conhecimentos para o Chefe da unidade FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.mocks.TestLoginHelper.login(TestLoginHelper.java:67)
        at sgc.integracao.mocks.TestLoginHelper.loginChefe(TestLoginHelper.java:94)
        at sgc.integracao.CDU11IntegrationTest.setUp(CDU11IntegrationTest.java:85)

CDU-11: Visualizar cadastro de atividades e conhecimentos > Testes de Cenário de Sucesso > Deve permitir que ADMIN visualize o cadastro de qualquer unidade FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.mocks.TestLoginHelper.login(TestLoginHelper.java:67)
        at sgc.integracao.mocks.TestLoginHelper.loginChefe(TestLoginHelper.java:94)
        at sgc.integracao.CDU11IntegrationTest.setUp(CDU11IntegrationTest.java:85)

CDU-11: Visualizar cadastro de atividades e conhecimentos > Testes de Cenário de Sucesso > Deve permitir que SERVIDOR visualize o cadastro de qualquer unidade FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.mocks.TestLoginHelper.login(TestLoginHelper.java:67)
        at sgc.integracao.mocks.TestLoginHelper.loginChefe(TestLoginHelper.java:94)
        at sgc.integracao.CDU11IntegrationTest.setUp(CDU11IntegrationTest.java:85)

CDU-11: Visualizar cadastro de atividades e conhecimentos > Testes de Casos de Borda e Falhas > Deve retornar uma lista de atividades vazia quando o mapa não tem atividades FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.mocks.TestLoginHelper.login(TestLoginHelper.java:67)
        at sgc.integracao.mocks.TestLoginHelper.loginChefe(TestLoginHelper.java:94)
        at sgc.integracao.CDU11IntegrationTest.setUp(CDU11IntegrationTest.java:85)

CDU-11: Visualizar cadastro de atividades e conhecimentos > Testes de Casos de Borda e Falhas > Deve retornar uma atividade com a lista de conhecimentos vazia FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.mocks.TestLoginHelper.login(TestLoginHelper.java:67)
        at sgc.integracao.mocks.TestLoginHelper.loginChefe(TestLoginHelper.java:94)
        at sgc.integracao.CDU11IntegrationTest.setUp(CDU11IntegrationTest.java:85)

CDU-11: Visualizar cadastro de atividades e conhecimentos > Testes de Casos de Borda e Falhas > Deve retornar 404 Not Found para um subprocesso inexistente FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.mocks.TestLoginHelper.login(TestLoginHelper.java:67)
        at sgc.integracao.mocks.TestLoginHelper.loginChefe(TestLoginHelper.java:94)
        at sgc.integracao.CDU11IntegrationTest.setUp(CDU11IntegrationTest.java:85)

CDU-12: Verificar impactos no mapa de competências > Cenários de Sucesso > Não deve detectar impactos quando o cadastro de atividades é idêntico ao mapa vigente FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Sucesso.semImpactos_QuandoCadastroIdentico(CDU12IntegrationTest.java:172)

CDU-12: Verificar impactos no mapa de competências > Cenários de Sucesso > Deve detectar atividades alteradas como uma remoção e uma inserção FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Sucesso.deveDetectarAtividadesAlteradas(CDU12IntegrationTest.java:220)

CDU-12: Verificar impactos no mapa de competências > Cenários de Sucesso > Deve detectar atividades inseridas FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Sucesso.deveDetectarAtividadesInseridas(CDU12IntegrationTest.java:188)

CDU-12: Verificar impactos no mapa de competências > Cenários de Sucesso > Deve identificar competências impactadas por remoções e alterações FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Sucesso.deveIdentificarCompetenciasImpactadas(CDU12IntegrationTest.java:236)

CDU-12: Verificar impactos no mapa de competências > Cenários de Sucesso > Deve detectar atividades removidas e as competências relacionadas FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Sucesso.deveDetectarAtividadesRemovidas(CDU12IntegrationTest.java:203)

CDU-12: Verificar impactos no mapa de competências > Cenários de Borda e Falhas > Não deve detectar impactos se a unidade não possui mapa vigente FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$BordaEfalhas.semImpactos_QuandoNaoExisteMapaVigente(CDU12IntegrationTest.java:253)

CDU-12: Verificar impactos no mapa de competências > Testes de Controle de Acesso por Perfil e Situação > CHEFE pode acessar se subprocesso está em 'Revisão do cadastro em andamento' FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Acesso.chefePodeAcessar_EmRevisaoCadastro(CDU12IntegrationTest.java:280)

CDU-13: Analisar cadastro de atividades e conhecimentos > Deve homologar cadastro, alterar situação e registrar movimentação da SEDOC FAILED
    org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?)]; Unique index or primary key violation: "SGC.CONSTRAINT_2 INDEX SGC.PRIMARY_KEY_2 ON SGC.VW_USUARIO(TITULO) VALUES ( /* 49 */ '202020202020' )"; SQL statement:
    INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?) [23505-240]
        at app//org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:104)
        at app//org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:102)
        at app//org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1549)
        at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:689)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:966)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1010)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1020)
        at app//sgc.integracao.CDU13IntegrationTest.setUp(CDU13IntegrationTest.java:97)

        Caused by:
        org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "SGC.CONSTRAINT_2 INDEX SGC.PRIMARY_KEY_2 ON SGC.VW_USUARIO(TITULO) VALUES ( /* 49 */ '202020202020' )"; SQL statement:
        INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?) [23505-240]
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
            at app//org.h2.message.DbException.get(DbException.java:223)
            at app//org.h2.message.DbException.get(DbException.java:199)
            at app//org.h2.index.Index.getDuplicateKeyException(Index.java:535)
            at app//org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)
            at app//org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)
            at app//org.h2.mvstore.db.MVTable.addRow(MVTable.java:520)
            at app//org.h2.command.dml.Insert.insertRows(Insert.java:174)
            at app//org.h2.command.dml.Insert.update(Insert.java:135)
            at app//org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:77)
            at app//org.h2.command.CommandContainer.update(CommandContainer.java:139)
            at app//org.h2.command.Command.executeUpdate(Command.java:306)
            at app//org.h2.command.Command.executeUpdate(Command.java:250)
            at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
            at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
            at app//com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
            at app//com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
            at app//org.springframework.jdbc.core.JdbcTemplate.lambda$update$0(JdbcTemplate.java:971)
            at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:670)
            ... 4 more

CDU-13: Analisar cadastro de atividades e conhecimentos > Deve retornar o histórico de devoluções e aceites ordenado FAILED
    org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?)]; Unique index or primary key violation: "SGC.CONSTRAINT_2 INDEX SGC.PRIMARY_KEY_2 ON SGC.VW_USUARIO(TITULO) VALUES ( /* 49 */ '202020202020' )"; SQL statement:
    INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?) [23505-240]
        at app//org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:104)
        at app//org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:102)
        at app//org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1549)
        at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:689)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:966)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1010)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1020)
        at app//sgc.integracao.CDU13IntegrationTest.setUp(CDU13IntegrationTest.java:97)

        Caused by:
        org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "SGC.CONSTRAINT_2 INDEX SGC.PRIMARY_KEY_2 ON SGC.VW_USUARIO(TITULO) VALUES ( /* 49 */ '202020202020' )"; SQL statement:
        INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?) [23505-240]
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
            at app//org.h2.message.DbException.get(DbException.java:223)
            at app//org.h2.message.DbException.get(DbException.java:199)
            at app//org.h2.index.Index.getDuplicateKeyException(Index.java:535)
            at app//org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)
            at app//org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)
            at app//org.h2.mvstore.db.MVTable.addRow(MVTable.java:520)
            at app//org.h2.command.dml.Insert.insertRows(Insert.java:174)
            at app//org.h2.command.dml.Insert.update(Insert.java:135)
            at app//org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:77)
            at app//org.h2.command.CommandContainer.update(CommandContainer.java:139)
            at app//org.h2.command.Command.executeUpdate(Command.java:306)
            at app//org.h2.command.Command.executeUpdate(Command.java:250)
            at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
            at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
            at app//com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
            at app//com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
            at app//org.springframework.jdbc.core.JdbcTemplate.lambda$update$0(JdbcTemplate.java:971)
            at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:670)
            ... 4 more

CDU-13: Analisar cadastro de atividades e conhecimentos > Deve aceitar cadastro, registrar análise e mover para unidade superior FAILED
    org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?)]; Unique index or primary key violation: "SGC.CONSTRAINT_2 INDEX SGC.PRIMARY_KEY_2 ON SGC.VW_USUARIO(TITULO) VALUES ( /* 49 */ '202020202020' )"; SQL statement:
    INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?) [23505-240]
        at app//org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:104)
        at app//org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:102)
        at app//org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1549)
        at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:689)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:966)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1010)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1020)
        at app//sgc.integracao.CDU13IntegrationTest.setUp(CDU13IntegrationTest.java:97)

        Caused by:
        org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "SGC.CONSTRAINT_2 INDEX SGC.PRIMARY_KEY_2 ON SGC.VW_USUARIO(TITULO) VALUES ( /* 49 */ '202020202020' )"; SQL statement:
        INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?) [23505-240]
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
            at app//org.h2.message.DbException.get(DbException.java:223)
            at app//org.h2.message.DbException.get(DbException.java:199)
            at app//org.h2.index.Index.getDuplicateKeyException(Index.java:535)
            at app//org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)
            at app//org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)
            at app//org.h2.mvstore.db.MVTable.addRow(MVTable.java:520)
            at app//org.h2.command.dml.Insert.insertRows(Insert.java:174)
            at app//org.h2.command.dml.Insert.update(Insert.java:135)
            at app//org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:77)
            at app//org.h2.command.CommandContainer.update(CommandContainer.java:139)
            at app//org.h2.command.Command.executeUpdate(Command.java:306)
            at app//org.h2.command.Command.executeUpdate(Command.java:250)
            at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
            at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
            at app//com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
            at app//com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
            at app//org.springframework.jdbc.core.JdbcTemplate.lambda$update$0(JdbcTemplate.java:971)
            at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:670)
            ... 4 more

CDU-13: Analisar cadastro de atividades e conhecimentos > Deve devolver cadastro, registrar análise corretamente e alterar situação FAILED
    org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?)]; Unique index or primary key violation: "SGC.CONSTRAINT_2 INDEX SGC.PRIMARY_KEY_2 ON SGC.VW_USUARIO(TITULO) VALUES ( /* 49 */ '202020202020' )"; SQL statement:
    INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?) [23505-240]
        at app//org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:104)
        at app//org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:102)
        at app//org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1549)
        at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:689)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:966)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1010)
        at app//org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1020)
        at app//sgc.integracao.CDU13IntegrationTest.setUp(CDU13IntegrationTest.java:97)

        Caused by:
        org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "SGC.CONSTRAINT_2 INDEX SGC.PRIMARY_KEY_2 ON SGC.VW_USUARIO(TITULO) VALUES ( /* 49 */ '202020202020' )"; SQL statement:
        INSERT INTO SGC.VW_USUARIO (TITULO, NOME, EMAIL, RAMAL, unidade_lot_codigo, MATRICULA) VALUES (?, ?, ?, ?, ?, ?) [23505-240]
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
            at app//org.h2.message.DbException.get(DbException.java:223)
            at app//org.h2.message.DbException.get(DbException.java:199)
            at app//org.h2.index.Index.getDuplicateKeyException(Index.java:535)
            at app//org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)
            at app//org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)
            at app//org.h2.mvstore.db.MVTable.addRow(MVTable.java:520)
            at app//org.h2.command.dml.Insert.insertRows(Insert.java:174)
            at app//org.h2.command.dml.Insert.update(Insert.java:135)
            at app//org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:77)
            at app//org.h2.command.CommandContainer.update(CommandContainer.java:139)
            at app//org.h2.command.Command.executeUpdate(Command.java:306)
            at app//org.h2.command.Command.executeUpdate(Command.java:250)
            at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
            at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
            at app//com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
            at app//com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
            at app//org.springframework.jdbc.core.JdbcTemplate.lambda$update$0(JdbcTemplate.java:971)
            at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:670)
            ... 4 more

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Endpoints de Consulta > Deve retornar histórico de análise corretamente FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest$EndpointsDeConsulta.deveRetornarHistoricoDeAnalise(CDU14IntegrationTest.java:306)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Endpoints de Consulta > Deve retornar impactos no mapa corretamente FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest$EndpointsDeConsulta.deveRetornarImpactosNoMapa(CDU14IntegrationTest.java:341)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Fluxo de Homologação > ADMIN homologa SEM impactos, alterando status para MAPA_HOMOLOGADO FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest$Homologacao.setUpHomologacao(CDU14IntegrationTest.java:248)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Fluxo de Homologação > ADMIN homologa COM impactos, alterando status e criando movimentação FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest$Homologacao.setUpHomologacao(CDU14IntegrationTest.java:248)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Falhas e Segurança > CHEFE não pode homologar revisão FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest$FalhasESeguranca.chefeNaoPodeHomologar(CDU14IntegrationTest.java:365)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Fluxo de Aceite > GESTOR deve aceitar, alterando status e criando todos os registros FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest$Aceite.gestorAceitaRevisao(CDU14IntegrationTest.java:218)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Fluxo de Devolução > GESTOR deve devolver, alterando status e criando registros FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest$Devolucao.gestorDevolveRevisao(CDU14IntegrationTest.java:188)

CDU-20: Analisar validação de mapa de competências > Devolução e aceitação da validação do mapa com verificação do histórico FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU20IntegrationTest.devolucaoEAceitacaoComVerificacaoHistorico(CDU20IntegrationTest.java:112)

CDU-22: Aceitar cadastros em bloco > Deve aceitar cadastro de múltiplas unidades em bloco FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU22IntegrationTest.aceitarCadastroEmBloco_deveAceitarTodasSelecionadas(CDU22IntegrationTest.java:129)

CDU-23: Homologar cadastros em bloco > Deve homologar cadastro de múltiplas unidades em bloco FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU23IntegrationTest.homologarCadastroEmBloco_deveHomologarTodasSelecionadas(CDU23IntegrationTest.java:137)

Testes do Serviço UsuarioFacade > Consultas de Unidade > Deve buscar unidades ativas FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:69)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:41)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:35)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:195)
        at app//sgc.organizacao.UsuarioServiceTest$ConsultasUnidade.deveBuscarUnidadesAtivas(UsuarioServiceTest.java:139)

UnidadeResponsavelService > Buscar Responsável Atual > Deve buscar responsável atual com sucesso FAILED
    org.mockito.exceptions.misusing.UnnecessaryStubbingException: 
    Unnecessary stubbings detected.
    Clean & maintainable test code requires zero unnecessary code.
    Following stubbings are unnecessary (click to navigate to relevant line of code):
      1. -> at sgc.organizacao.service.UnidadeResponsavelServiceTest$BuscarResponsavelAtualTests.deveBuscarResponsavelAtualComSucesso(UnidadeResponsavelServiceTest.java:286)
    Please remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.
        at app//org.mockito.junit.jupiter.MockitoExtension.lambda$afterEach$2(MockitoExtension.java:200)
        at java.base@25.0.1/java.util.Optional.ifPresent(Optional.java:178)
        at app//org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:198)
        at java.base@25.0.1/java.util.ArrayList.forEach(ArrayList.java:1604)
        at java.base@25.0.1/java.util.ArrayList.forEach(ArrayList.java:1604)
        at java.base@25.0.1/java.util.ArrayList.forEach(ArrayList.java:1604)

Testes para ProcessoFinalizador > Deve falhar se subprocesso não tiver unidade FAILED
    java.lang.AssertionError: 
    Expecting actual throwable to be an instance of:
      sgc.processo.erros.ErroProcesso
    but was:
      java.lang.NullPointerException
    	at java.base/java.util.Objects.requireNonNull(Objects.java:220)
    	at java.base/java.util.Optional.of(Optional.java:113)
    	at sgc.processo.service.ProcessoFinalizador.tornarMapasVigentes(ProcessoFinalizador.java:86)
    	...(98 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
        at sgc.processo.service.ProcessoFinalizadorTest.deveFalharSeSubprocessoSemUnidade(ProcessoFinalizadorTest.java:107)

ProcessoManutencaoService > Criação de Processo > Deve criar processo do tipo MAPEAMENTO sem validação de mapa FAILED
    java.lang.NullPointerException: Cannot invoke "sgc.processo.model.Processo.getCodigo()" because "processoSalvo" is null
        at sgc.processo.service.ProcessoManutencaoService.criar(ProcessoManutencaoService.java:65)
        at sgc.processo.service.ProcessoManutencaoServiceTest$CriacaoTests.deveCriarProcessoMapeamentoSemValidacao(ProcessoManutencaoServiceTest.java:160)

ProcessoManutencaoService > Criação de Processo > Deve criar processo do tipo REVISAO com sucesso FAILED
    java.lang.NullPointerException: Cannot invoke "sgc.processo.model.Processo.getCodigo()" because "processoSalvo" is null
        at sgc.processo.service.ProcessoManutencaoService.criar(ProcessoManutencaoService.java:65)
        at sgc.processo.service.ProcessoManutencaoServiceTest$CriacaoTests.deveCriarProcessoRevisaoComSucesso(ProcessoManutencaoServiceTest.java:82)

ProcessoManutencaoService > Criação de Processo > Deve criar processo do tipo DIAGNOSTICO com sucesso FAILED
    java.lang.NullPointerException: Cannot invoke "sgc.processo.model.Processo.getCodigo()" because "processoSalvo" is null
        at sgc.processo.service.ProcessoManutencaoService.criar(ProcessoManutencaoService.java:65)
        at sgc.processo.service.ProcessoManutencaoServiceTest$CriacaoTests.deveCriarProcessoDiagnosticoComSucesso(ProcessoManutencaoServiceTest.java:123)

ProcessoManutencaoService > Atualização de Processo > Deve atualizar processo para MAPEAMENTO sem validação de mapa FAILED
    java.lang.AssertionError: 
    Expecting actual not to be null
        at sgc.processo.service.ProcessoManutencaoServiceTest$AtualizacaoTests.deveAtualizarProcessoParaMapeamentoSemValidacao(ProcessoManutencaoServiceTest.java:503)

ProcessoManutencaoService > Atualização de Processo > Deve atualizar processo para DIAGNOSTICO com validação de mapa FAILED
    java.lang.AssertionError: 
    Expecting actual not to be null
        at sgc.processo.service.ProcessoManutencaoServiceTest$AtualizacaoTests.deveAtualizarProcessoParaDiagnosticoComValidacao(ProcessoManutencaoServiceTest.java:403)

ProcessoManutencaoService > Atualização de Processo > Deve atualizar processo na situação CRIADO com sucesso FAILED
    java.lang.AssertionError: 
    Expecting actual not to be null
        at sgc.processo.service.ProcessoManutencaoServiceTest$AtualizacaoTests.deveAtualizarProcessoCriadoComSucesso(ProcessoManutencaoServiceTest.java:267)

ProcessoManutencaoService > Atualização de Processo > Deve atualizar processo para REVISAO com validação de mapa FAILED
    java.lang.AssertionError: 
    Expecting actual not to be null
        at sgc.processo.service.ProcessoManutencaoServiceTest$AtualizacaoTests.deveAtualizarProcessoParaRevisaoComValidacao(ProcessoManutencaoServiceTest.java:366)

LoginFacade Tests > Deve negar acesso se unidade não corresponder à atribuição do usuário FAILED
    java.lang.AssertionError: 
    Expecting code to raise a throwable.
        at sgc.seguranca.login.LoginFacadeTest.deveNegarSeUnidadeNaoCorresponder(LoginFacadeTest.java:155)

LoginFacade Tests > Deve negar acesso se perfil não corresponder à atribuição do usuário FAILED
    java.lang.AssertionError: 
    Expecting throwable message:
      "Usuário não possui perfil de ADMIN."
    to contain:
      "Usuário não tem permissão"
    but did not.

    Throwable that failed the check:

    sgc.comum.erros.ErroAcessoNegado: Usuário não possui perfil de ADMIN.
    	at sgc.seguranca.login.LoginFacade.entrar(LoginFacade.java:113)
    	at sgc.seguranca.login.LoginFacadeTest.lambda$deveNegarSePerfilNaoCorresponder$0(LoginFacadeTest.java:124)
    	at org.assertj.core.api.ThrowableAssert.catchThrowable(ThrowableAssert.java:66)
    	at org.assertj.core.api.AssertionsForClassTypes.catchThrowable(AssertionsForClassTypes.java:908)
    	at org.assertj.core.api.Assertions.catchThrowable(Assertions.java:1476)
    	at org.assertj.core.api.Assertions.assertThatThrownBy(Assertions.java:1319)
    	at sgc.seguranca.login.LoginFacadeTest.deveNegarSePerfilNaoCorresponder(LoginFacadeTest.java:124)
    	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
    	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
    	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
    	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
    	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
    	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
    	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
    	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
    	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
    	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
    	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
    	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
    	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
    	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
    	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
    	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
    	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
    	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
    	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
    	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
    	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
    	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
    	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
    	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
    	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
    	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
    	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
    	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
    	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
    	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
    	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
    	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
    	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
    	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
    	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
    	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
    	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
    	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
    	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
    	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
    	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
    	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
    	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
    	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
    	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
    	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
    	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
    	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
    	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
    	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
    	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
    	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
    	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
    	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
    	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
    	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestDefinitionProcessor$CollectThenExecuteTestDefinitionConsumer.processAllTestClasses(JUnitPlatformTestDefinitionProcessor.java:172)
    	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestDefinitionProcessor$CollectThenExecuteTestDefinitionConsumer.access$000(JUnitPlatformTestDefinitionProcessor.java:121)
    	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestDefinitionProcessor.stop(JUnitPlatformTestDefinitionProcessor.java:114)
    	at org.gradle.api.internal.tasks.testing.SuiteTestDefinitionProcessor.stop(SuiteTestDefinitionProcessor.java:64)
    	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
    	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
    	at org.gradle.internal.dispatch.MethodInvocation.invokeOn(MethodInvocation.java:77)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:28)
    	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:19)
    	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
    	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:88)
    	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
    	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:195)
    	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:126)
    	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
    	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
    	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
    	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
    	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
    	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
    	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
        at sgc.seguranca.login.LoginFacadeTest.deveNegarSePerfilNaoCorresponder(LoginFacadeTest.java:126)

SubprocessoEmailService Test > Envia email para unidade destino FAILED
    Wanted but not invoked:
    notificacaoEmailService.enviarEmail(
        "DEST",
        <any string>,
        "html"
    );
    -> at sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
    Actually, there were zero interactions with this mock.
        at app//sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
        at app//sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.enviaEmailDestino(SubprocessoEmailServiceTest.java:65)

SubprocessoEmailService Test > Deve incluir DataLimiteEtapa2 nas variáveis FAILED
    Wanted but not invoked:
    templateEngine.process(
        <any string>,
        <custom argument matcher>
    );
    -> at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
    Actually, there were zero interactions with this mock.
        at app//org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
        at app//sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.deveIncluirDataLimiteEtapa2NasVariaveis(SubprocessoEmailServiceTest.java:262)

SubprocessoEmailService Test > Deve incluir Observações nas variáveis FAILED
    Wanted but not invoked:
    templateEngine.process(
        <any string>,
        <custom argument matcher>
    );
    -> at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
    Actually, there were zero interactions with this mock.
        at app//org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
        at app//sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.deveIncluirObservacoesNasVariaveis(SubprocessoEmailServiceTest.java:288)

SubprocessoEmailService Test > Cria variáveis sem datas nem observações FAILED
    Wanted but not invoked:
    notificacaoEmailService.enviarEmail(
        <any>,
        <any>,
        <any>
    );
    -> at sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
    Actually, there were zero interactions with this mock.
        at app//sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
        at app//sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.deveCriarVariaveisSemDatasNemObservacoes(SubprocessoEmailServiceTest.java:238)

SubprocessoEmailService Test > Trata exceção ao notificar hierarquia FAILED
    Wanted but not invoked:
    notificacaoEmailService.enviarEmail(
        "SUP",
        <any string>,
        <any>
    );
    -> at sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
    Actually, there were zero interactions with this mock.
        at app//sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
        at app//sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.trataExcecaoHierarquia(SubprocessoEmailServiceTest.java:211)

SubprocessoEmailService Test > Não envia email se destinatário nulo FAILED
    org.mockito.exceptions.misusing.UnnecessaryStubbingException: 
    Unnecessary stubbings detected.
    Clean & maintainable test code requires zero unnecessary code.
    Following stubbings are unnecessary (click to navigate to relevant line of code):
      1. -> at sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.naoEnviaSeDestinoNulo(SubprocessoEmailServiceTest.java:148)
    Please remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.
        at app//org.mockito.junit.jupiter.MockitoExtension.lambda$afterEach$2(MockitoExtension.java:200)
        at java.base@25.0.1/java.util.Optional.ifPresent(Optional.java:178)
        at app//org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:198)
        at java.base@25.0.1/java.util.ArrayList.forEach(ArrayList.java:1604)
        at java.base@25.0.1/java.util.ArrayList.forEach(ArrayList.java:1604)

SubprocessoEmailService Test > Lida com exceção ao enviar email FAILED
    org.mockito.exceptions.misusing.UnnecessaryStubbingException: 
    Unnecessary stubbings detected.
    Clean & maintainable test code requires zero unnecessary code.
    Following stubbings are unnecessary (click to navigate to relevant line of code):
      1. -> at sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.lidaComExcecao(SubprocessoEmailServiceTest.java:114)
    Please remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.
        at app//org.mockito.junit.jupiter.MockitoExtension.lambda$afterEach$2(MockitoExtension.java:200)
        at java.base@25.0.1/java.util.Optional.ifPresent(Optional.java:178)
        at app//org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:198)
        at java.base@25.0.1/java.util.ArrayList.forEach(ArrayList.java:1604)
        at java.base@25.0.1/java.util.ArrayList.forEach(ArrayList.java:1604)

SubprocessoEmailService Test > Não notifica hierarquia se origem nula FAILED
    Wanted but not invoked:
    notificacaoEmailService.enviarEmail(
        <any>,
        <any>,
        <any>
    );
    -> at sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
    Actually, there were zero interactions with this mock.
        at app//sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
        at app//sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.naoNotificaHierarquiaSemOrigem(SubprocessoEmailServiceTest.java:175)

SubprocessoEmailService Test > Deve lidar com tipo processo iniciado (switch default) FAILED
    Wanted but not invoked:
    notificacaoEmailService.enviarEmail(
        <any>,
        <custom argument matcher>,
        <any>
    );
    -> at sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
    Actually, there were zero interactions with this mock.
        at app//sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
        at app//sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.deveLidarComTipoProcessoIniciado(SubprocessoEmailServiceTest.java:314)

SubprocessoEmailService Test > Notifica hierarquia FAILED
    Wanted but not invoked:
    notificacaoEmailService.enviarEmail(
        "SUP",
        <any string>,
        "html"
    );
    -> at sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
    Actually, there were zero interactions with this mock.
        at app//sgc.notificacao.NotificacaoEmailService.enviarEmail(NotificacaoEmailService.java:38)
        at app//sgc.subprocesso.service.notificacao.SubprocessoEmailServiceTest.notificaHierarquia(SubprocessoEmailServiceTest.java:96)
  Results: FAILURE
  Total:     1576 tests run
  ✓ Passed:  1523
  ✗ Failed:  53
  ○ Ignored: 0
  Time:     76.912s

1576 tests completed, 53 failed

> Task :backend:test FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':backend:test'.
> There were failing tests. See the report at: file:///Users/leonardo/sgc/backend/build/reports/tests/test/index.html

* Try:
> Run with --scan to get full insights from a Build Scan (powered by Develocity).

BUILD FAILED in 1m 18s
5 actionable tasks: 3 executed, 2 up-to-date
Configuration cache entry reused.
