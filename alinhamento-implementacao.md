# Análise de Alinhamento entre Requisitos e Implementação

Este documento detalha a análise de alinhamento entre os requisitos especificados (CDUs) e a implementação atual do sistema SGC, abrangendo backend, frontend e testes end-to-end.

## Legenda de Status

- **Completo**: O requisito está totalmente implementado e coberto por testes.
- **Parcial**: O requisito está parcialmente implementado ou faltam testes.
- **Pendente**: O requisito ainda não foi implementado.
- **Não Verificado**: A implementação ainda não foi analisada.

## Análise por CDU

| CDU | Status | Backend | Frontend | Testes E2E | Observações |
|---|---|---|---|---|---|
| CDU-01 | Completo | `UsuarioControle` implementa o fluxo de autenticação em três etapas. | `Login.vue` gerencia a interface de login, incluindo o fluxo para múltiplos perfis. | `cdu-01.spec.ts` cobre os cenários de login para diferentes perfis de usuário. | O fluxo de login está totalmente implementado e testado. |
| CDU-02 | Parcial | Faltam endpoints em `ProcessoControle` para listar processos ativos e em `AlertaControle` para listar alertas. | `Painel.vue` está implementado, mas depende de endpoints inexistentes no backend. | `cdu-02.spec.ts` testa a visibilidade de componentes, mas depende de dados mockados devido à ausência dos endpoints. | A implementação está incompleta. O backend precisa prover os dados necessários para o painel. |
| CDU-03 | Completo | `ProcessoControle` possui endpoints para criar, atualizar e excluir processos. | `CadProcesso.vue` implementa a interface para gerenciamento de processos, incluindo a árvore de seleção de unidades. | `cdu-03.spec.ts` oferece cobertura abrangente para os fluxos de criação, edição e remoção. | O CRUD de processos está funcional e bem testado. |
| CDU-04 | Completo | O endpoint `iniciar` em `ProcessoControle` aciona a lógica de negócio para processos de mapeamento. | A UI em `CadProcesso.vue` permite iniciar o processo através de um modal de confirmação. | `cdu-04.spec.ts` valida o fluxo de UI, mas não os efeitos secundários no backend (criação de subprocessos, etc.). | A funcionalidade está implementada, mas a cobertura de testes E2E poderia ser aprofundada. |
| CDU-05 | Completo | O endpoint `iniciar` em `ProcessoControle` delega ao `CopiaMapaService` para duplicar mapas existentes em processos de revisão. | A mesma UI de `CadProcesso.vue` é utilizada, tratando o tipo 'Revisão' corretamente. | `cdu-05.spec.ts` é robusto, validando o fluxo de UI e verificando a criação de subprocessos e alertas via API. | O fluxo de início de revisão está bem implementado e testado. |
| CDU-06 | Parcial | O endpoint `obterDetalhes` em `ProcessoControle` fornece os dados necessários. | `Processo.vue` exibe corretamente os detalhes do processo e a hierarquia de unidades. | `cdu-06.spec.ts` cobre a navegação básica, mas não valida a visibilidade condicional de ações. | A funcionalidade principal está implementada, mas a cobertura de testes E2E é superficial. |
| CDU-07 | Completo | `SubprocessoCrudControle` possui o endpoint `obterPorCodigo` para buscar os detalhes do subprocesso. | `Subprocesso.vue` renderiza os detalhes da unidade, movimentações e os cards de ação condicionais. | `cdu-07.spec.ts` testa a visibilidade dos cards de ação com base no status do subprocesso e no perfil do usuário. | O detalhamento do subprocesso está bem implementado e testado. |
| CDU-08 | Parcial | `SubprocessoMapaControle` lida com o CRUD de competências, mas faltam endpoints para gerenciar atividades e conhecimentos. | `CadAtividades.vue` implementa a UI completa para o CRUD de atividades e conhecimentos, incluindo importação. | `cdu-08.spec.ts` testa o fluxo completo de CRUD na UI, mas está propenso a falhas devido à falta de suporte no backend. | Implementação incompleta. O backend precisa dos endpoints para atividades e conhecimentos. |
| CDU-09 | Completo | O endpoint `disponibilizarCadastro` em `SubprocessoCadastroControle` implementa a lógica de negócio. | A ação é acionada pelo botão "Disponibilizar" em `CadAtividades.vue`, que também exibe o histórico de análises. | `cdu-09.spec.ts` cobre os cenários de sucesso e falha, além de verificar a exibição do histórico de análises. | O fluxo de disponibilização de cadastro está bem implementado e testado. |
| CDU-10 | Completo | O endpoint `disponibilizarRevisao` em `SubprocessoCadastroControle` lida com a lógica para processos de revisão. | A UI em `CadAtividades.vue` se adapta ao contexto de revisão, utilizando o mesmo fluxo de disponibilização. | `cdu-10.spec.ts` valida o fluxo de disponibilização no contexto de um processo de revisão, incluindo a verificação do histórico. | O fluxo de disponibilização de revisão está bem implementado e testado. |
| CDU-11 | Completo | Os endpoints existentes em `ProcessoControle` e `SubprocessoCrudControle` fornecem os dados necessários. | `VisAtividades.vue` implementa a visualização de atividades e conhecimentos em modo somente leitura. | `cdu-11.spec.ts` valida que diferentes perfis de usuário conseguem visualizar o cadastro em modo somente leitura. | A funcionalidade de visualização está bem implementada e testada. |
| CDU-12 | Completo | O endpoint `verificarImpactos` em `SubprocessoMapaControle` realiza a análise de divergências. | O modal `ImpactoMapaModal.vue` é exibido a partir de `CadAtividades.vue` e `VisAtividades.vue`. | `cdu-12.spec.ts` cobre os cenários com e sem impactos no mapa. | A verificação de impactos está funcional e bem testada. |
| CDU-13 | Completo | Os endpoints `devolverCadastro`, `aceitarCadastro` e `homologarCadastro` em `SubprocessoCadastroControle` implementam a lógica de análise. | `VisAtividades.vue` apresenta os botões de ação e modais para análise do cadastro. | `cdu-13.spec.ts` testa os fluxos de devolução, aceite e homologação para diferentes perfis. | O fluxo de análise de cadastro está bem implementado e testado. |
| CDU-14 | Completo | Os endpoints `devolverRevisaoCadastro`, `aceitarRevisaoCadastro` e `homologarRevisaoCadastro` em `SubprocessoCadastroControle` implementam a lógica de análise de revisão. | `VisAtividades.vue` se adapta ao contexto de revisão, exibindo as ações apropriadas. | `cdu-14.spec.ts` valida os fluxos de análise em um processo de revisão para diferentes perfis. | O fluxo de análise de revisão de cadastro está bem implementado e testado. |
| CDU-15 | Completo | `SubprocessoMapaControle` possui endpoints para o CRUD de competências e suas associações com atividades. | `CadMapa.vue` oferece uma UI completa para a gestão do mapa, incluindo a criação, edição e exclusão de competências. | `cdu-15.spec.ts` testa o ciclo de vida completo de uma competência, da criação à exclusão, e o fluxo de disponibilização. | A manutenção do mapa de competências está funcional e bem testada. |
| CDU-16 | Completo | Os endpoints de `SubprocessoMapaControle` e `SubprocessoValidacaoControle` são reutilizados neste fluxo. | As telas `CadMapa.vue` e `ImpactoMapaModal.vue` são reempregadas no contexto de ajuste de mapa. | `cdu-16.spec.ts` valida as ações de edição de mapa, verificação de impactos e disponibilização em um processo de revisão. | O fluxo de ajuste de mapa está bem implementado e testado. |
| CDU-17 | Completo | O endpoint `disponibilizar-mapa` em `SubprocessoValidacaoControle` gerencia a lógica de negócio. | `CadMapa.vue` inclui o modal de disponibilização com os campos necessários. | `cdu-17.spec.ts` testa a funcionalidade do modal, incluindo validações de campos. | A disponibilização do mapa está funcional e bem testada. |
| CDU-18 | Completo | O endpoint `obterMapaVisualizacao` em `SubprocessoMapaControle` fornece os dados para a visualização. | `VisMapa.vue` renderiza o mapa de competências em modo somente leitura. | `cdu-18.spec.ts` confirma que diferentes perfis podem visualizar o mapa e que os controles de edição não são exibidos para perfis de leitura. | A visualização do mapa está bem implementada e testada. |
| CDU-19 | Completo | Os endpoints `apresentarSugestoes` e `validarMapa` em `SubprocessoValidacaoControle` implementam a lógica de validação. | `VisMapa.vue` apresenta os botões e modais para "Apresentar sugestões" e "Validar". | `cdu-19.spec.ts` cobre o fluxo de validação para o perfil CHEFE, incluindo o histórico de análises. | O fluxo de validação de mapa está bem implementado e testado. |
| CDU-20 | Completo | Os endpoints `devolverValidacao`, `aceitarValidacao` e `homologarValidacao` em `SubprocessoValidacaoControle` gerenciam a análise da validação. | `VisMapa.vue` exibe as ações apropriadas para GESTOR e ADMIN, incluindo modais para "Ver sugestões" e "Histórico de análise". | `cdu-20.spec.ts` valida os fluxos de análise para GESTOR e ADMIN em diferentes cenários. | O fluxo de análise da validação do mapa está bem implementado e testado. |
| CDU-21 | Completo | O endpoint `finalizar` em `ProcessoControle` implementa a lógica para finalizar o processo. | `Processo.vue` exibe o botão "Finalizar processo" para o ADMIN e o modal de confirmação. | `cdu-21.spec.ts` testa o fluxo de finalização bem-sucedida e o cancelamento da ação. | A finalização de processo está funcional e bem testada. |
