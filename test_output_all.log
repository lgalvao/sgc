Calculating task graph as no cached configuration is available for tasks: :backend:test
> Task :backend:processResources UP-TO-DATE
> Task :backend:processTestResources UP-TO-DATE
> Task :backend:compileJava UP-TO-DATE
> Task :backend:classes UP-TO-DATE
> Task :backend:compileTestJava UP-TO-DATE
> Task :backend:testClasses UP-TO-DATE

> Task :backend:test

AlertaMapperTest > buildLinkDestino returns correct link FAILED
    org.opentest4j.AssertionFailedError:
    expected: "/subprocessos/50"
     but was: null
        at app//sgc.alerta.dto.AlertaMapperTest.buildLinkDestino(AlertaMapperTest.java:97)

AtividadeControllerTest > Testes para atualizar atividade > Deve retornar 404 Not Found para código inexistente FAILED
    java.lang.AssertionError: Status expected:<404> but was:<500>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.atividade.AtividadeControllerTest$AtualizarAtividade.deveRetornarNotFoundParaIdInexistente(AtividadeControllerTest.java:249)

AtividadeServiceReproductionTest > REPRODUÇÃO: criar falha com NPE se processo do subprocesso for nulo durante atualização de situação FAILED
    java.lang.AssertionError:
    Expecting actual throwable to be an instance of:
      sgc.comum.erros.ErroEntidadeNaoEncontrada
    but was:
      sgc.comum.erros.ErroAccessoNegado: Usuário não autorizado a criar atividades para este subprocesso.
	at sgc.atividade.AtividadeService.criar(AtividadeService.java:112)
	at sgc.atividade.AtividadeServiceReproductionTest.lambda$criarComProcessoNulo$1(AtividadeServiceReproductionTest.java:85)
	at org.assertj.core.api.ThrowableAssert.catchThrowable(ThrowableAssert.java:63)
	...(95 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
        at sgc.atividade.AtividadeServiceReproductionTest.criarComProcessoNulo(AtividadeServiceReproductionTest.java:86)

AtividadeServiceTest > criar deve salvar e retornar atividade se usuario autorizado FAILED
    sgc.comum.erros.ErroAccessoNegado: Usuário não autorizado a criar atividades para este subprocesso.
        at app//sgc.atividade.AtividadeService.criar(AtividadeService.java:112)
        at app//sgc.atividade.AtividadeServiceTest.criar(AtividadeServiceTest.java:116)

AtividadeServiceTest > criar deve atualizar situacao se nao iniciado FAILED
    sgc.comum.erros.ErroAccessoNegado: Usuário não autorizado a criar atividades para este subprocesso.
        at app//sgc.atividade.AtividadeService.criar(AtividadeService.java:112)
        at app//sgc.atividade.AtividadeServiceTest.criarAtualizaSituacao(AtividadeServiceTest.java:152)

E2eControllerTest > shouldClearProcessData_RealDelete() FAILED
    org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [TRUNCATE TABLE sgc.unidade]
        at app//org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:112)
        at app//org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:102)
        at app//org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548)
        at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:428)
        at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:462)
        at app//sgc.e2e.E2eControllerTest.shouldClearProcessData_RealDelete(E2eControllerTest.java:60)

        Caused by:
        org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "UNIDADE" not found; SQL statement:
        TRUNCATE TABLE sgc.unidade [42102-240]
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
            at app//org.h2.message.DbException.get(DbException.java:223)
            at app//org.h2.message.DbException.get(DbException.java:199)
            at app//org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8049)
            at app//org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8030)
            at app//org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8014)
            at app//org.h2.command.Parser.readTableOrView(Parser.java:7999)
            at app//org.h2.command.Parser.readTableOrView(Parser.java:7961)
            at app//org.h2.command.Parser.parseTruncate(Parser.java:2002)
            at app//org.h2.command.Parser.parsePrepared(Parser.java:742)
            at app//org.h2.command.Parser.parse(Parser.java:584)
            at app//org.h2.command.Parser.parse(Parser.java:559)
            at app//org.h2.command.Parser.prepareCommand(Parser.java:487)
            at app//org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
            at app//org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
            at app//org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
            at app//org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
            at app//org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
            at app//com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
            at app//com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
            at app//org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:453)
            at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:413)
            ... 2 more

E2eControllerTest > shouldResetDatabase_TruncateTables() FAILED
    org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [INSERT INTO sgc.unidade (codigo, nome, sigla, tipo, situacao) VALUES (888, 'Reset Unit', 'RST', 'OPERACIONAL', 'ATIVA')]
        at app//org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:112)
        at app//org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:102)
        at app//org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548)
        at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:428)
        at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:462)
        at app//sgc.e2e.E2eControllerTest.shouldResetDatabase_TruncateTables(E2eControllerTest.java:118)

        Caused by:
        org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "UNIDADE" not found; SQL statement:
        INSERT INTO sgc.unidade (codigo, nome, sigla, tipo, situacao) VALUES (888, 'Reset Unit', 'RST', 'OPERACIONAL', 'ATIVA') [42102-240]
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
            at app//org.h2.message.DbException.get(DbException.java:223)
            at app//org.h2.message.DbException.get(DbException.java:199)
            at app//org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8049)
            at app//org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8030)
            at app//org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8014)
            at app//org.h2.command.Parser.readTableOrView(Parser.java:7999)
            at app//org.h2.command.Parser.readTableOrView(Parser.java:7961)
            at app//org.h2.command.Parser.parseInsert(Parser.java:1524)
            at app//org.h2.command.Parser.parsePrepared(Parser.java:701)
            at app//org.h2.command.Parser.parse(Parser.java:584)
            at app//org.h2.command.Parser.parse(Parser.java:559)
            at app//org.h2.command.Parser.prepareCommand(Parser.java:487)
            at app//org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
            at app//org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
            at app//org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
            at app//org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
            at app//org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
            at app//com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
            at app//com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
            at app//org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:453)
            at app//org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:413)
            ... 2 more

E2eFixtureEndpointTest > deveGerarDescricaoAutomaticaQuandoNaoFornecida() FAILED
    java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@550b431b testClass = sgc.e2e.E2eFixtureEndpointTest, locations = [], classes = [sgc.Sgc], contextInitializerClasses = [], activeProfiles = ["e2e"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@3ec44e5c, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@113e5cc4, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@657c822c, [ImportsContextCustomizer@89b0d2b key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@a98909c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@afd3ee1, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@33e81349], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:195)
        at org.springframework.test.context.cache.DefaultContextCache.put(DefaultContextCache.java:172)
        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:160)
        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
        at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
        at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
        at java.base/java.util.Optional.orElseGet(Optional.java:364)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

        Caused by:
        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'e2eController' defined in file [/app/backend/build/classes/java/main/sgc/e2e/E2eController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jdbcTemplate' defined in class path resource [org/springframework/boot/jdbc/autoconfigure/JdbcTemplateConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of JdbcTemplate bean 'jdbcTemplate': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/jdbc/autoconfigure/DataSourceInitializationAutoConfiguration.class]: Failed to execute SQL script statement #1 of URL [file:../e2e/setup/seed.sql]: INSERT INTO sgc.unidade (codigo, nome, sigla, tipo, situacao, unidade_superior_codigo) VALUES (1, 'Seção de Desenvolvimento e Capacitação', 'SEDOC', 'INTEROPERACIONAL', 'ATIVA', NULL)
            at app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
            at app//org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
            at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
            at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
            at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
            at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
            at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
            at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
            at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
            at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
            at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
            at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
            at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
            at app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
            at app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
            at app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
            at app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
            at app//org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
            at app//org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$2(SpringBootContextLoader.java:148)
            at app//org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
            at app//org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
            at app//org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1474)
            at app//org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:573)
            at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:148)
            at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:114)
            at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:247)
            at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:167)
            ... 21 more

            Caused by:
            org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jdbcTemplate' defined in class path resource [org/springframework/boot/jdbc/autoconfigure/JdbcTemplateConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of JdbcTemplate bean 'jdbcTemplate': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/jdbc/autoconfigure/DataSourceInitializationAutoConfiguration.class]: Failed to execute SQL script statement #1 of URL [file:../e2e/setup/seed.sql]: INSERT INTO sgc.unidade (codigo, nome, sigla, tipo, situacao, unidade_superior_codigo) VALUES (1, 'Seção de Desenvolvimento e Capacitação', 'SEDOC', 'INTEROPERACIONAL', 'ATIVA', NULL)
                at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
                at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
                at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
                at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
                at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
                at app//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
                at app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
                ... 47 more

                Caused by:
                org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/jdbc/autoconfigure/DataSourceInitializationAutoConfiguration.class]: Failed to execute SQL script statement #1 of URL [file:../e2e/setup/seed.sql]: INSERT INTO sgc.unidade (codigo, nome, sigla, tipo, situacao, unidade_superior_codigo) VALUES (1, 'Seção de Desenvolvimento e Capacitação', 'SEDOC', 'INTEROPERACIONAL', 'ATIVA', NULL)
                    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1817)
                    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
                    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
                    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
                    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
                    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
                    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
                    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)
                    ... 53 more

                    Caused by:
                    org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:../e2e/setup/seed.sql]: INSERT INTO sgc.unidade (codigo, nome, sigla, tipo, situacao, unidade_superior_codigo) VALUES (1, 'Seção de Desenvolvimento e Capacitação', 'SEDOC', 'INTEROPERACIONAL', 'ATIVA', NULL)
                        at app//org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
                        at app//org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
                        at app//org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
                        at app//org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
                        at app//org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:159)
                        at app//org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:120)
                        at app//org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:113)
                        at app//org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:88)
                        at app//org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:77)
                        at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
                        at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
                        ... 60 more

                        Caused by:
                        org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "UNIDADE" not found; SQL statement:
                        INSERT INTO sgc.unidade (codigo, nome, sigla, tipo, situacao, unidade_superior_codigo) VALUES (1, 'Seção de Desenvolvimento e Capacitação', 'SEDOC', 'INTEROPERACIONAL', 'ATIVA', NULL) [42102-240]
                            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
                            at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
                            at app//org.h2.message.DbException.get(DbException.java:223)
                            at app//org.h2.message.DbException.get(DbException.java:199)
                            at app//org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8049)
                            at app//org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8030)
                            at app//org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8014)
                            at app//org.h2.command.Parser.readTableOrView(Parser.java:7999)
                            at app//org.h2.command.Parser.readTableOrView(Parser.java:7961)
                            at app//org.h2.command.Parser.parseInsert(Parser.java:1524)
                            at app//org.h2.command.Parser.parsePrepared(Parser.java:701)
                            at app//org.h2.command.Parser.parse(Parser.java:584)
                            at app//org.h2.command.Parser.parse(Parser.java:559)
                            at app//org.h2.command.Parser.prepareCommand(Parser.java:487)
                            at app//org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
                            at app//org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
                            at app//org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
                            at app//org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
                            at app//org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
                            at app//com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
                            at app//com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
                            at app//org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
                            ... 70 more

E2eFixtureEndpointTest > devePermitirCriarProcessoMapeamentoViaFixture() FAILED
    java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@550b431b testClass = sgc.e2e.E2eFixtureEndpointTest, locations = [], classes = [sgc.Sgc], contextInitializerClasses = [], activeProfiles = ["e2e"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@3ec44e5c, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@113e5cc4, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@657c822c, [ImportsContextCustomizer@89b0d2b key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@a98909c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@afd3ee1, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@33e81349], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
        at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
        at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
        at java.base/java.util.Optional.orElseGet(Optional.java:364)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

E2eFixtureEndpointTest > devePermitirCriarEIniciarProcessoMapeamentoViaFixture() FAILED
    java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@550b431b testClass = sgc.e2e.E2eFixtureEndpointTest, locations = [], classes = [sgc.Sgc], contextInitializerClasses = [], activeProfiles = ["e2e"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@3ec44e5c, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@113e5cc4, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@657c822c, [ImportsContextCustomizer@89b0d2b key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@a98909c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@afd3ee1, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@33e81349], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
        at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
        at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
        at java.base/java.util.Optional.orElseGet(Optional.java:364)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

E2eFixtureEndpointTest > deveRetornarErroQuandoUnidadeNaoExiste() FAILED
    java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@550b431b testClass = sgc.e2e.E2eFixtureEndpointTest, locations = [], classes = [sgc.Sgc], contextInitializerClasses = [], activeProfiles = ["e2e"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@3ec44e5c, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@113e5cc4, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@657c822c, [ImportsContextCustomizer@89b0d2b key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@a98909c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@afd3ee1, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@33e81349], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
        at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
        at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
        at java.base/java.util.Optional.orElseGet(Optional.java:364)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

CDU-05: Iniciar processo de revisão > testIniciarProcessoRevisao_processoJaIniciado_falha() FAILED
    java.lang.AssertionError: Status expected:<201> but was:<409>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU05IntegrationTest.testIniciarProcessoRevisao_processoJaIniciado_falha(CDU05IntegrationTest.java:219)

CDU-05: Iniciar processo de revisão > testIniciarProcessoRevisao_sucesso() FAILED
    java.lang.AssertionError: Status expected:<201> but was:<409>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU05IntegrationTest.testIniciarProcessoRevisao_sucesso(CDU05IntegrationTest.java:121)

CDU-06: Detalhar processo > Deve mostrar 'podeFinalizar' como true para Admin com subprocessos homologados FAILED
    java.lang.AssertionError: Status expected:<200> but was:<500>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU06IntegrationTest.testPodeFinalizar_true_comAdmin(CDU06IntegrationTest.java:149)

CDU-06: Detalhar processo > Deve mostrar 'podeHomologarCadastro' como true para Gestor com cadastro disponibilizado FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU06IntegrationTest.testPodeHomologarCadastro_true(CDU06IntegrationTest.java:191)

CDU-06: Detalhar processo > Deve detalhar processo para Admin FAILED
    java.lang.AssertionError: Status expected:<200> but was:<500>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU06IntegrationTest.testDetalharProcesso_sucesso(CDU06IntegrationTest.java:121)

CDU-06: Detalhar processo > Deve mostrar 'podeHomologarMapa' como true para Gestor com mapa validado FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU06IntegrationTest.testPodeHomologarMapa_true(CDU06IntegrationTest.java:211)

CDU-06: Detalhar processo > Deve mostrar 'podeFinalizar' como false para não Admin FAILED
    java.lang.AssertionError: Status expected:<200> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU06IntegrationTest.testPodeFinalizar_false_semAdmin(CDU06IntegrationTest.java:169)

CDU-06: Detalhar processo > Deve retornar detalhes da unidade com situação do subprocesso correta FAILED
    java.lang.AssertionError: Status expected:<200> but was:<500>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU06IntegrationTest.testDetalharProcesso_dadosSubprocesso(CDU06IntegrationTest.java:233)

CDU-09 Status Transition Bug Test > Adding activity should transition subprocess from NAO_INICIADO to MAPEAMENTO_CADASTRO_EM_ANDAMENTO FAILED
    org.opentest4j.AssertionFailedError:
    expected: "333333333333"
     but was: "1"
        at app//sgc.integracao.CDU09StatusTransitionTest.shouldTransitionStatusWhenActivityIsAdded(CDU09StatusTransitionTest.java:60)

CDU-12: Verificar impactos no mapa de competências > Cenários de Sucesso > Deve detectar atividades alteradas como uma remoção e uma inserção FAILED
    java.lang.AssertionError: JSON path "$.temImpactos"
    Expected: is <true>
         but: was <false>
        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
        at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
        at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:87)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Sucesso.deveDetectarAtividadesAlteradas(CDU12IntegrationTest.java:203)

CDU-12: Verificar impactos no mapa de competências > Cenários de Sucesso > Deve detectar atividades inseridas FAILED
    java.lang.AssertionError: JSON path "$.temImpactos"
    Expected: is <true>
         but: was <false>
        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
        at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
        at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:87)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Sucesso.deveDetectarAtividadesInseridas(CDU12IntegrationTest.java:159)

CDU-12: Verificar impactos no mapa de competências > Cenários de Sucesso > Deve identificar competências impactadas por remoções e alterações FAILED
    java.lang.AssertionError: JSON path "$.temImpactos"
    Expected: is <true>
         but: was <false>
        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
        at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
        at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:87)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Sucesso.deveIdentificarCompetenciasImpactadas(CDU12IntegrationTest.java:228)

CDU-12: Verificar impactos no mapa de competências > Cenários de Sucesso > Deve detectar atividades removidas e as competências relacionadas FAILED
    java.lang.AssertionError: JSON path "$.temImpactos"
    Expected: is <true>
         but: was <false>
        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
        at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:107)
        at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:87)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU12IntegrationTest$Sucesso.deveDetectarAtividadesRemovidas(CDU12IntegrationTest.java:177)

CDU-13: Analisar cadastro de atividades e conhecimentos > Fluxo de Histórico de Análise > Deve retornar o histórico de devoluções e aceites ordenado FAILED
    org.opentest4j.AssertionFailedError:
    expected: "COSIS"
     but was: null
        at app//sgc.integracao.CDU13IntegrationTest$Historico.getHistorico_deveRetornarAcoesOrdenadas(CDU13IntegrationTest.java:317)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Endpoints de Consulta > Deve retornar histórico de análise corretamente FAILED
    java.lang.AssertionError: Status expected:<201> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest.criarEIniciarProcessoDeRevisao(CDU14IntegrationTest.java:169)
        at sgc.integracao.CDU14IntegrationTest.criarEComecarProcessoDeRevisao(CDU14IntegrationTest.java:136)
        at sgc.integracao.CDU14IntegrationTest$EndpointsDeConsulta.deveRetornarHistoricoDeAnalise(CDU14IntegrationTest.java:336)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Endpoints de Consulta > Deve retornar impactos no mapa corretamente FAILED
    java.lang.AssertionError: Status expected:<201> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest.criarEIniciarProcessoDeRevisao(CDU14IntegrationTest.java:169)
        at sgc.integracao.CDU14IntegrationTest.criarEComecarProcessoDeRevisao(CDU14IntegrationTest.java:136)
        at sgc.integracao.CDU14IntegrationTest$EndpointsDeConsulta.deveRetornarImpactosNoMapa(CDU14IntegrationTest.java:364)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Fluxo de Homologação > ADMIN homologa SEM impactos, alterando status para MAPA_HOMOLOGADO FAILED
    java.lang.AssertionError: Status expected:<201> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest.criarEIniciarProcessoDeRevisao(CDU14IntegrationTest.java:169)
        at sgc.integracao.CDU14IntegrationTest.criarEComecarProcessoDeRevisao(CDU14IntegrationTest.java:136)
        at sgc.integracao.CDU14IntegrationTest$Homologacao.setUpHomologacao(CDU14IntegrationTest.java:275)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Fluxo de Homologação > ADMIN homologa COM impactos, alterando status e criando movimentação FAILED
    java.lang.AssertionError: Status expected:<201> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest.criarEIniciarProcessoDeRevisao(CDU14IntegrationTest.java:169)
        at sgc.integracao.CDU14IntegrationTest.criarEComecarProcessoDeRevisao(CDU14IntegrationTest.java:136)
        at sgc.integracao.CDU14IntegrationTest$Homologacao.setUpHomologacao(CDU14IntegrationTest.java:275)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Falhas e Segurança > Não pode homologar em estado inválido FAILED
    java.lang.AssertionError: Status expected:<201> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest.criarEIniciarProcessoDeRevisao(CDU14IntegrationTest.java:169)
        at sgc.integracao.CDU14IntegrationTest.criarEComecarProcessoDeRevisao(CDU14IntegrationTest.java:136)
        at sgc.integracao.CDU14IntegrationTest$FalhasESeguranca.naoPodeHomologarEmEstadoInvalido(CDU14IntegrationTest.java:420)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Falhas e Segurança > CHEFE não pode homologar revisão FAILED
    java.lang.AssertionError: Status expected:<201> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest.criarEIniciarProcessoDeRevisao(CDU14IntegrationTest.java:169)
        at sgc.integracao.CDU14IntegrationTest.criarEComecarProcessoDeRevisao(CDU14IntegrationTest.java:136)
        at sgc.integracao.CDU14IntegrationTest$FalhasESeguranca.chefeNaoPodeHomologar(CDU14IntegrationTest.java:394)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Fluxo de Aceite > GESTOR deve aceitar, alterando status e criando todos os registros FAILED
    java.lang.AssertionError: Status expected:<201> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest.criarEIniciarProcessoDeRevisao(CDU14IntegrationTest.java:169)
        at sgc.integracao.CDU14IntegrationTest.criarEComecarProcessoDeRevisao(CDU14IntegrationTest.java:136)
        at sgc.integracao.CDU14IntegrationTest$Aceite.gestorAceitaRevisao(CDU14IntegrationTest.java:243)

CDU-14: Analisar revisão de cadastro de atividades e conhecimentos > Fluxo de Devolução > GESTOR deve devolver, alterando status e criando registros FAILED
    java.lang.AssertionError: Status expected:<201> but was:<403>
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:62)
        at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:129)
        at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$0(StatusResultMatchers.java:600)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU14IntegrationTest.criarEIniciarProcessoDeRevisao(CDU14IntegrationTest.java:169)
        at sgc.integracao.CDU14IntegrationTest.criarEComecarProcessoDeRevisao(CDU14IntegrationTest.java:136)
        at sgc.integracao.CDU14IntegrationTest$Devolucao.gestorDevolveRevisao(CDU14IntegrationTest.java:209)

CDU-15: Manter Mapa de Competências > Deve editar, adicionar e remover competências de um mapa existente FAILED
    java.lang.AssertionError: No matching value at JSON path "$.competencias[?(@.descricao == 'Competência Editada')].atividadesCodigos.length()"
        at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:40)
        at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:151)
        at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU15IntegrationTest.deveEditarAdicionarRemoverCompetencias(CDU15IntegrationTest.java:156)

CDU-15: Manter Mapa de Competências > Testes de CRUD de Competência Individual > Deve atualizar uma competência existente FAILED
    java.lang.AssertionError: No value at JSON path "$.competencias[0].atividadesCodigos.length()"
        at org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:350)
        at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:148)
        at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)
        at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)
        at sgc.integracao.CDU15IntegrationTest$CrudCompetenciaTests.deveAtualizarCompetencia(CDU15IntegrationTest.java:279)

        Caused by:
        com.jayway.jsonpath.PathNotFoundException: Missing property in path $['competencias'][0]['atividadesCodigos']

CDU-20: Analisar validação de mapa de competências > Devolução e aceite da validação do mapa com verificação do histórico FAILED
    java.lang.AssertionError:
    Expecting actual not to be null
        at sgc.integracao.CDU20IntegrationTest.devolucaoEaceiteComVerificacaoHistorico(CDU20IntegrationTest.java:134)

Integração: Entidades de Views (SGC) > Deve persistir e consultar VW_VINCULACAO_UNIDADE FAILED
    org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:1 */ CAST(1 AS BIGINT), 'Tribunal Regional Eleitoral', 'TRE', NULL, NULL, NULL, 'INTEROPERACIONAL', 'ATIVA', NULL)"; SQL statement:
    insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]] [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]; SQL [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]; constraint [SGC.CONSTRAINT_1A2 PRIMARY KEY]
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:169)
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:105)
        at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
        at app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
        at app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
        at app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
        at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
        at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
        at app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166)
        at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
        at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
        at app/jdk.proxy3/jdk.proxy3.$Proxy284.save(Unknown Source)
        at app//sgc.integracao.ViewEntitiesIntegrationTest.testVinculacaoUnidadeView(ViewEntitiesIntegrationTest.java:104)

        Caused by:
        org.hibernate.exception.ConstraintViolationException: could not execute statement [Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:1 */ CAST(1 AS BIGINT), 'Tribunal Regional Eleitoral', 'TRE', NULL, NULL, NULL, 'INTEROPERACIONAL', 'ATIVA', NULL)"; SQL statement:
        insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]] [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]
            at app//org.hibernate.dialect.H2Dialect.lambda$buildSQLExceptionConversionDelegate$1(H2Dialect.java:845)
            at app//org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34)
            at app//org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115)
            at app//org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:193)
            at app//org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:103)
            at app//org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:45)
            at app//org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:66)
            at app//org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:191)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:129)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:92)
            at app//org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:90)
            at app//org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:684)
            at app//org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
            at app//org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
            at app//org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:376)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:290)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:220)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:138)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:148)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:92)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:76)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:52)
            at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:140)
            at app//org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:692)
            at app//org.hibernate.internal.SessionImpl.persist(SessionImpl.java:676)
            at java.base@21.0.8/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
            at java.base@21.0.8/java.lang.reflect.Method.invoke(Method.java:580)
            at app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:317)
            at app/jdk.proxy3/jdk.proxy3.$Proxy280.persist(Unknown Source)
            at app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:663)
            at java.base@21.0.8/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
            at java.base@21.0.8/java.lang.reflect.Method.invoke(Method.java:580)
            at app//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:278)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
            at app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:545)
            at app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:290)
            at app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:708)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:171)
            at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
            at app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
            ... 6 more

            Caused by:
            org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:1 */ CAST(1 AS BIGINT), 'Tribunal Regional Eleitoral', 'TRE', NULL, NULL, NULL, 'INTEROPERACIONAL', 'ATIVA', NULL)"; SQL statement:
            insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]
                at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
                at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
                at app//org.h2.message.DbException.get(DbException.java:223)
                at app//org.h2.message.DbException.get(DbException.java:199)
                at app//org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:121)
                at app//org.h2.mvstore.db.MVTable.addRow(MVTable.java:520)
                at app//org.h2.command.dml.Insert.insertRows(Insert.java:174)
                at app//org.h2.command.dml.Insert.update(Insert.java:135)
                at app//org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:212)
                at app//org.h2.command.CommandContainer.update(CommandContainer.java:133)
                at app//org.h2.command.Command.executeUpdate(Command.java:306)
                at app//org.h2.command.Command.executeUpdate(Command.java:250)
                at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
                at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
                at app//com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
                at app//com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
                at app//org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:190)
                ... 53 more

Integração: Entidades de Views (SGC) > Deve persistir e consultar VW_UNIDADE FAILED
    org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:2 */ CAST(2 AS BIGINT), U&'Secretaria de Inform\\00e1tica e Comunica\\00e7\\00f5es', 'STIC', NULL, '6', NULL, 'INTEROPERACIONAL', 'ATIVA', NULL)"; SQL statement:
    insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]] [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]; SQL [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]; constraint [SGC.CONSTRAINT_1A2 PRIMARY KEY]
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:169)
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:105)
        at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
        at app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
        at app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
        at app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
        at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
        at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
        at app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166)
        at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
        at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
        at app/jdk.proxy3/jdk.proxy3.$Proxy284.save(Unknown Source)
        at app//sgc.integracao.ViewEntitiesIntegrationTest.testUnidadeView(ViewEntitiesIntegrationTest.java:60)

        Caused by:
        org.hibernate.exception.ConstraintViolationException: could not execute statement [Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:2 */ CAST(2 AS BIGINT), U&'Secretaria de Inform\\00e1tica e Comunica\\00e7\\00f5es', 'STIC', NULL, '6', NULL, 'INTEROPERACIONAL', 'ATIVA', NULL)"; SQL statement:
        insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]] [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]
            at app//org.hibernate.dialect.H2Dialect.lambda$buildSQLExceptionConversionDelegate$1(H2Dialect.java:845)
            at app//org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34)
            at app//org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115)
            at app//org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:193)
            at app//org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:103)
            at app//org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:45)
            at app//org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:66)
            at app//org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:191)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:129)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:92)
            at app//org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:90)
            at app//org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:684)
            at app//org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
            at app//org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
            at app//org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:376)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:290)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:220)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:138)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:148)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:92)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:76)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:52)
            at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:140)
            at app//org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:692)
            at app//org.hibernate.internal.SessionImpl.persist(SessionImpl.java:676)
            at java.base@21.0.8/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
            at java.base@21.0.8/java.lang.reflect.Method.invoke(Method.java:580)
            at app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:317)
            at app/jdk.proxy3/jdk.proxy3.$Proxy280.persist(Unknown Source)
            at app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:663)
            at java.base@21.0.8/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
            at java.base@21.0.8/java.lang.reflect.Method.invoke(Method.java:580)
            at app//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:278)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
            at app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:545)
            at app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:290)
            at app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:708)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:171)
            at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
            at app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
            ... 6 more

            Caused by:
            org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:2 */ CAST(2 AS BIGINT), U&'Secretaria de Inform\\00e1tica e Comunica\\00e7\\00f5es', 'STIC', NULL, '6', NULL, 'INTEROPERACIONAL', 'ATIVA', NULL)"; SQL statement:
            insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]
                at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
                at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
                at app//org.h2.message.DbException.get(DbException.java:223)
                at app//org.h2.message.DbException.get(DbException.java:199)
                at app//org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:121)
                at app//org.h2.mvstore.db.MVTable.addRow(MVTable.java:520)
                at app//org.h2.command.dml.Insert.insertRows(Insert.java:174)
                at app//org.h2.command.dml.Insert.update(Insert.java:135)
                at app//org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:212)
                at app//org.h2.command.CommandContainer.update(CommandContainer.java:133)
                at app//org.h2.command.Command.executeUpdate(Command.java:306)
                at app//org.h2.command.Command.executeUpdate(Command.java:250)
                at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
                at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
                at app//com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
                at app//com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
                at app//org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:190)
                ... 53 more

Integração: Entidades de Views (SGC) > Deve persistir e consultar VW_USUARIO FAILED
    org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:3 */ CAST(3 AS BIGINT), 'Coordenadoria de Administracao', 'COAD', NULL, NULL, NULL, 'INTERMEDIARIA', 'ATIVA', CAST(2 AS BIGINT))"; SQL statement:
    insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]] [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]; SQL [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]; constraint [SGC.CONSTRAINT_1A2 PRIMARY KEY]
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:169)
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:105)
        at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
        at app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
        at app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
        at app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
        at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
        at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
        at app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166)
        at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
        at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
        at app/jdk.proxy3/jdk.proxy3.$Proxy284.save(Unknown Source)
        at app//sgc.integracao.ViewEntitiesIntegrationTest.testUsuarioView(ViewEntitiesIntegrationTest.java:77)

        Caused by:
        org.hibernate.exception.ConstraintViolationException: could not execute statement [Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:3 */ CAST(3 AS BIGINT), 'Coordenadoria de Administracao', 'COAD', NULL, NULL, NULL, 'INTERMEDIARIA', 'ATIVA', CAST(2 AS BIGINT))"; SQL statement:
        insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]] [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]
            at app//org.hibernate.dialect.H2Dialect.lambda$buildSQLExceptionConversionDelegate$1(H2Dialect.java:845)
            at app//org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34)
            at app//org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115)
            at app//org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:193)
            at app//org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:103)
            at app//org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:45)
            at app//org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:66)
            at app//org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:191)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:129)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:92)
            at app//org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:90)
            at app//org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:684)
            at app//org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
            at app//org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
            at app//org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:376)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:290)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:220)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:138)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:148)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:92)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:76)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:52)
            at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:140)
            at app//org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:692)
            at app//org.hibernate.internal.SessionImpl.persist(SessionImpl.java:676)
            at java.base@21.0.8/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
            at java.base@21.0.8/java.lang.reflect.Method.invoke(Method.java:580)
            at app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:317)
            at app/jdk.proxy3/jdk.proxy3.$Proxy280.persist(Unknown Source)
            at app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:663)
            at java.base@21.0.8/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
            at java.base@21.0.8/java.lang.reflect.Method.invoke(Method.java:580)
            at app//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:278)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
            at app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:545)
            at app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:290)
            at app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:708)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:171)
            at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
            at app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
            ... 6 more

            Caused by:
            org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:3 */ CAST(3 AS BIGINT), 'Coordenadoria de Administracao', 'COAD', NULL, NULL, NULL, 'INTERMEDIARIA', 'ATIVA', CAST(2 AS BIGINT))"; SQL statement:
            insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]
                at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
                at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
                at app//org.h2.message.DbException.get(DbException.java:223)
                at app//org.h2.message.DbException.get(DbException.java:199)
                at app//org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:121)
                at app//org.h2.mvstore.db.MVTable.addRow(MVTable.java:520)
                at app//org.h2.command.dml.Insert.insertRows(Insert.java:174)
                at app//org.h2.command.dml.Insert.update(Insert.java:135)
                at app//org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:212)
                at app//org.h2.command.CommandContainer.update(CommandContainer.java:133)
                at app//org.h2.command.Command.executeUpdate(Command.java:306)
                at app//org.h2.command.Command.executeUpdate(Command.java:250)
                at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
                at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
                at app//com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
                at app//com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
                at app//org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:190)
                ... 53 more

Integração: Entidades de Views (SGC) > Deve persistir e consultar VW_USUARIO_PERFIL_UNIDADE FAILED
    org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:4 */ CAST(4 AS BIGINT), U&'Coordenadoria de Educa\\00e7\\00e3o Especial', 'COEDE', NULL, NULL, NULL, 'INTERMEDIARIA', 'ATIVA', CAST(3 AS BIGINT))"; SQL statement:
    insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]] [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]; SQL [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]; constraint [SGC.CONSTRAINT_1A2 PRIMARY KEY]
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:169)
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
        at app//org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:105)
        at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
        at app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
        at app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
        at app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
        at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
        at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
        at app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166)
        at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
        at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
        at app/jdk.proxy3/jdk.proxy3.$Proxy284.save(Unknown Source)
        at app//sgc.integracao.ViewEntitiesIntegrationTest.testUsuarioPerfilUnidadeView(ViewEntitiesIntegrationTest.java:130)

        Caused by:
        org.hibernate.exception.ConstraintViolationException: could not execute statement [Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:4 */ CAST(4 AS BIGINT), U&'Coordenadoria de Educa\\00e7\\00e3o Especial', 'COEDE', NULL, NULL, NULL, 'INTERMEDIARIA', 'ATIVA', CAST(3 AS BIGINT))"; SQL statement:
        insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]] [insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default)]
            at app//org.hibernate.dialect.H2Dialect.lambda$buildSQLExceptionConversionDelegate$1(H2Dialect.java:845)
            at app//org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34)
            at app//org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115)
            at app//org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:193)
            at app//org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:103)
            at app//org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:45)
            at app//org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:66)
            at app//org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:191)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:129)
            at app//org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:92)
            at app//org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:90)
            at app//org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:684)
            at app//org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
            at app//org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
            at app//org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:376)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:290)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:220)
            at app//org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:138)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:148)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:92)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:76)
            at app//org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:52)
            at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:140)
            at app//org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:692)
            at app//org.hibernate.internal.SessionImpl.persist(SessionImpl.java:676)
            at java.base@21.0.8/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
            at java.base@21.0.8/java.lang.reflect.Method.invoke(Method.java:580)
            at app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:317)
            at app/jdk.proxy3/jdk.proxy3.$Proxy280.persist(Unknown Source)
            at app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:663)
            at java.base@21.0.8/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
            at java.base@21.0.8/java.lang.reflect.Method.invoke(Method.java:580)
            at app//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:278)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
            at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
            at app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:545)
            at app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:290)
            at app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:708)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:171)
            at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
            at app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
            at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
            at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
            ... 6 more

            Caused by:
            org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "SGC.CONSTRAINT_1A2 PRIMARY KEY ON SGC.VW_UNIDADE(CODIGO) ( /* key:4 */ CAST(4 AS BIGINT), U&'Coordenadoria de Educa\\00e7\\00e3o Especial', 'COEDE', NULL, NULL, NULL, 'INTERMEDIARIA', 'ATIVA', CAST(3 AS BIGINT))"; SQL statement:
            insert into sgc.vw_unidade (data_inicio_titularidade,matricula_titular,nome,sigla,situacao,tipo,titulo_titular,unidade_superior_codigo,codigo) values (?,?,?,?,?,?,?,?,default) [23505-240]
                at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
                at app//org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
                at app//org.h2.message.DbException.get(DbException.java:223)
                at app//org.h2.message.DbException.get(DbException.java:199)
                at app//org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:121)
                at app//org.h2.mvstore.db.MVTable.addRow(MVTable.java:520)
                at app//org.h2.command.dml.Insert.insertRows(Insert.java:174)
                at app//org.h2.command.dml.Insert.update(Insert.java:135)
                at app//org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:212)
                at app//org.h2.command.CommandContainer.update(CommandContainer.java:133)
                at app//org.h2.command.Command.executeUpdate(Command.java:306)
                at app//org.h2.command.Command.executeUpdate(Command.java:250)
                at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
                at app//org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
                at app//com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
                at app//com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
                at app//org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:190)
                ... 53 more

Testes para ImpactoMapaService > Testes de verificação de acesso > CHEFE não pode acessar quando situação for diferente de REVISAO_CADASTRO_EM_ANDAMENTO FAILED
    org.opentest4j.AssertionFailedError: Expected sgc.comum.erros.ErroAccessoNegado to be thrown, but nothing was thrown.
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:159)
        at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:74)
        at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)
        at app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3223)
        at app//sgc.mapa.service.ImpactoMapaServiceTest$AcessoTestes.chefeNaoPodeAcessar(ImpactoMapaServiceTest.java:107)

Testes para ImpactoMapaService > Testes de verificação de acesso > GESTOR não pode acessar quando situação for diferente de REVISAO_CADASTRO_DISPONIBILIZADA FAILED
    org.opentest4j.AssertionFailedError: Expected sgc.comum.erros.ErroAccessoNegado to be thrown, but nothing was thrown.
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:159)
        at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:74)
        at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)
        at app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3223)
        at app//sgc.mapa.service.ImpactoMapaServiceTest$AcessoTestes.gestorNaoPodeAcessar(ImpactoMapaServiceTest.java:129)

Testes para ImpactoMapaService > Testes de verificação de acesso > ADMIN não pode acessar quando situação for diferente das permitidas FAILED
    org.opentest4j.AssertionFailedError: Expected sgc.comum.erros.ErroAccessoNegado to be thrown, but nothing was thrown.
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:159)
        at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:74)
        at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)
        at app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3223)
        at app//sgc.mapa.service.ImpactoMapaServiceTest$AcessoTestes.adminNaoPodeAcessar(ImpactoMapaServiceTest.java:170)

ProcessoServiceTest > Checar acesso retorna true se gestor da unidade participante FAILED
    org.opentest4j.AssertionFailedError:
    Expecting value to be true but was false
        at app//sgc.processo.ProcessoServiceTest.checarAcessoParticipante(ProcessoServiceTest.java:532)

SgrhServiceTest > testBuscarUnidadesPorPerfil() FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:69)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:41)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:35)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:195)
        at app//sgc.sgrh.SgrhServiceTest.testBuscarUnidadesPorPerfil(SgrhServiceTest.java:164)

SgrhServiceTest > testUsuarioTemPerfil() FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:69)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:41)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:35)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:195)
        at app//sgc.sgrh.SgrhServiceTest.testUsuarioTemPerfil(SgrhServiceTest.java:150)

SgrhServiceTest > testBuscarResponsavelUnidade() FAILED
    org.opentest4j.AssertionFailedError: expected: <202020> but was: <777>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:201)
        at app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:184)
        at app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:179)
        at app//org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1188)
        at app//sgc.sgrh.SgrhServiceTest.testBuscarResponsavelUnidade(SgrhServiceTest.java:118)

SgrhServiceTest > testBuscarUnidadesOndeEhResponsavel() FAILED
    org.opentest4j.AssertionFailedError: expected: <false> but was: <true>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertFalse.failNotFalse(AssertFalse.java:69)
        at app//org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:41)
        at app//org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:35)
        at app//org.junit.jupiter.api.Assertions.assertFalse(Assertions.java:246)
        at app//sgc.sgrh.SgrhServiceTest.testBuscarUnidadesOndeEhResponsavel(SgrhServiceTest.java:127)

SgrhServiceTest > testBuscarUsuarioPorTitulo() FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:69)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:41)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:35)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:195)
        at app//sgc.sgrh.SgrhServiceTest.testBuscarUsuarioPorTitulo(SgrhServiceTest.java:39)

SgrhServiceTest > testBuscarUsuariosPorTitulos() FAILED
    org.opentest4j.AssertionFailedError: expected: <2> but was: <0>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:201)
        at app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:152)
        at app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:147)
        at app//org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:558)
        at app//sgc.sgrh.SgrhServiceTest.testBuscarUsuariosPorTitulos(SgrhServiceTest.java:188)

SgrhServiceTest > testBuscarPerfisUsuario() FAILED
    org.opentest4j.AssertionFailedError: expected: <false> but was: <true>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertFalse.failNotFalse(AssertFalse.java:69)
        at app//org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:41)
        at app//org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:35)
        at app//org.junit.jupiter.api.Assertions.assertFalse(Assertions.java:246)
        at app//sgc.sgrh.SgrhServiceTest.testBuscarPerfisUsuario(SgrhServiceTest.java:137)

SgrhServiceTest > testBuscarUsuarioPorEmail() FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:69)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:41)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:35)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:195)
        at app//sgc.sgrh.SgrhServiceTest.testBuscarUsuarioPorEmail(SgrhServiceTest.java:48)

SgrhServiceTest > testBuscarResponsaveisUnidades() FAILED
    org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:69)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:41)
        at app//org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:35)
        at app//org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:195)
        at app//sgc.sgrh.SgrhServiceTest.testBuscarResponsaveisUnidades(SgrhServiceTest.java:176)

SgrhServiceTest > testBuscarUnidadePorCodigo() FAILED
    org.opentest4j.AssertionFailedError: expected: <Secretaria 1> but was: <Secretaria de Informática e Comunicações>
        at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:158)
        at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:139)
        at app//org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:201)
        at app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:184)
        at app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:179)
        at app//org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1188)
        at app//sgc.sgrh.SgrhServiceTest.testBuscarUnidadePorCodigo(SgrhServiceTest.java:69)

Testes para UsuarioService > Deve retornar lista de perfis e unidades autorizados FAILED
    java.lang.NullPointerException: Cannot invoke "sgc.sgrh.model.UsuarioPerfilRepo.findByUsuarioTitulo(String)" because "this.usuarioPerfilRepo" is null
        at sgc.sgrh.service.UsuarioService.autorizar(UsuarioService.java:39)
        at sgc.sgrh.UsuarioServiceTest.autorizar_deveRetornarListaDePerfisUnidades(UsuarioServiceTest.java:80)

SubprocessoDtoServiceTest > obterDetalhes sucesso gestor unidade correta FAILED
    sgc.comum.erros.ErroAccessoNegado: Perfil inválido para o usuário.
        at app//sgc.subprocesso.service.SubprocessoDtoService.verificarPermissaoVisualizacao(SubprocessoDtoService.java:113)
        at app//sgc.subprocesso.service.SubprocessoDtoService.obterDetalhes(SubprocessoDtoService.java:82)
        at app//sgc.subprocesso.service.SubprocessoDtoServiceTest.obterDetalhesGestor(SubprocessoDtoServiceTest.java:246)

SubprocessoDtoServiceTest > obterDetalhes com mapa null e conhecimentos FAILED
    sgc.comum.erros.ErroAccessoNegado: Perfil inválido para o usuário.
        at app//sgc.subprocesso.service.SubprocessoDtoService.verificarPermissaoVisualizacao(SubprocessoDtoService.java:113)
        at app//sgc.subprocesso.service.SubprocessoDtoService.obterDetalhes(SubprocessoDtoService.java:82)
        at app//sgc.subprocesso.service.SubprocessoDtoServiceTest.obterDetalhesMapaNull(SubprocessoDtoServiceTest.java:317)

SubprocessoDtoServiceTest > obterDetalhes sucesso servidor mesma unidade FAILED
    sgc.comum.erros.ErroAccessoNegado: Perfil inválido para o usuário.
        at app//sgc.subprocesso.service.SubprocessoDtoService.verificarPermissaoVisualizacao(SubprocessoDtoService.java:113)
        at app//sgc.subprocesso.service.SubprocessoDtoService.obterDetalhes(SubprocessoDtoService.java:82)
        at app//sgc.subprocesso.service.SubprocessoDtoServiceTest.obterDetalhesServidorMesmaUnidade(SubprocessoDtoServiceTest.java:171)

SubprocessoDtoServiceTest > obterDetalhes sucesso admin FAILED
    sgc.comum.erros.ErroAccessoNegado: Perfil inválido para o usuário.
        at app//sgc.subprocesso.service.SubprocessoDtoService.verificarPermissaoVisualizacao(SubprocessoDtoService.java:113)
        at app//sgc.subprocesso.service.SubprocessoDtoService.obterDetalhes(SubprocessoDtoService.java:82)
        at app//sgc.subprocesso.service.SubprocessoDtoServiceTest.obterDetalhesAdmin(SubprocessoDtoServiceTest.java:125)

SubprocessoServiceTest > atualizar modifica e salva FAILED
    java.lang.NullPointerException: Cannot invoke "sgc.processo.model.Processo.getCodigo()" because the return value of "sgc.subprocesso.model.Subprocesso.getProcesso()" is null
        at sgc.subprocesso.service.SubprocessoServiceTest.atualizar(SubprocessoServiceTest.java:165)

SubprocessoWorkflowServiceTest > disponibilizarRevisao deve rejeitar quando não há atividades cadastradas FAILED
    java.lang.AssertionError:
    Expecting actual throwable to be an instance of:
      sgc.comum.erros.ErroValidacao
    but was:
      sgc.comum.erros.ErroAccessoNegado: Usuário null não é o titular da unidade (null). Titular é não definido
	at sgc.subprocesso.service.SubprocessoWorkflowService.validarSubprocessoParaDisponibilizacao(SubprocessoWorkflowService.java:100)
	at sgc.subprocesso.service.SubprocessoWorkflowService.disponibilizarRevisao(SubprocessoWorkflowService.java:70)
	at sgc.subprocesso.service.SubprocessoWorkflowServiceTest.lambda$disponibilizarRevisao_deveRejeitarQuandoListaVazia$8(SubprocessoWorkflowServiceTest.java:660)
	...(96 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
        at sgc.subprocesso.service.SubprocessoWorkflowServiceTest.disponibilizarRevisao_deveRejeitarQuandoListaVazia(SubprocessoWorkflowServiceTest.java:661)

SubprocessoWorkflowServiceTest > disponibilizarRevisao sucesso FAILED
    sgc.comum.erros.ErroAccessoNegado: Usuário null não é o titular da unidade (null). Titular é não definido
        at app//sgc.subprocesso.service.SubprocessoWorkflowService.validarSubprocessoParaDisponibilizacao(SubprocessoWorkflowService.java:100)
        at app//sgc.subprocesso.service.SubprocessoWorkflowService.disponibilizarRevisao(SubprocessoWorkflowService.java:70)
        at app//sgc.subprocesso.service.SubprocessoWorkflowServiceTest.disponibilizarRevisao(SubprocessoWorkflowServiceTest.java:147)

SubprocessoWorkflowServiceTest > disponibilizarCadastro falha validação FAILED
    java.lang.AssertionError:
    Expecting actual throwable to be an instance of:
      sgc.comum.erros.ErroValidacao
    but was:
      sgc.comum.erros.ErroAccessoNegado: Usuário null não é o titular da unidade (null). Titular é não definido
	at sgc.subprocesso.service.SubprocessoWorkflowService.validarSubprocessoParaDisponibilizacao(SubprocessoWorkflowService.java:100)
	at sgc.subprocesso.service.SubprocessoWorkflowService.disponibilizarCadastro(SubprocessoWorkflowService.java:47)
	at sgc.subprocesso.service.SubprocessoWorkflowServiceTest.lambda$disponibilizarCadastroValidacao$1(SubprocessoWorkflowServiceTest.java:123)
	...(96 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
        at sgc.subprocesso.service.SubprocessoWorkflowServiceTest.disponibilizarCadastroValidacao(SubprocessoWorkflowServiceTest.java:124)

SubprocessoWorkflowServiceTest > disponibilizarCadastro sucesso FAILED
    sgc.comum.erros.ErroAccessoNegado: Usuário null não é o titular da unidade (null). Titular é não definido
        at app//sgc.subprocesso.service.SubprocessoWorkflowService.validarSubprocessoParaDisponibilizacao(SubprocessoWorkflowService.java:100)
        at app//sgc.subprocesso.service.SubprocessoWorkflowService.disponibilizarCadastro(SubprocessoWorkflowService.java:47)
        at app//sgc.subprocesso.service.SubprocessoWorkflowServiceTest.disponibilizarCadastro(SubprocessoWorkflowServiceTest.java:82)

SubprocessoWorkflowServiceTest > disponibilizarCadastro deve rejeitar quando não há atividades cadastradas FAILED
    java.lang.AssertionError:
    Expecting actual throwable to be an instance of:
      sgc.comum.erros.ErroValidacao
    but was:
      sgc.comum.erros.ErroAccessoNegado: Usuário null não é o titular da unidade (null). Titular é não definido
	at sgc.subprocesso.service.SubprocessoWorkflowService.validarSubprocessoParaDisponibilizacao(SubprocessoWorkflowService.java:100)
	at sgc.subprocesso.service.SubprocessoWorkflowService.disponibilizarCadastro(SubprocessoWorkflowService.java:47)
	at sgc.subprocesso.service.SubprocessoWorkflowServiceTest.lambda$disponibilizarCadastro_deveRejeitarQuandoListaVazia$7(SubprocessoWorkflowServiceTest.java:632)
	...(96 remaining lines not displayed - this can be changed with Assertions.setMaxStackTraceElementsDisplayed)
        at sgc.subprocesso.service.SubprocessoWorkflowServiceTest.disponibilizarCadastro_deveRejeitarQuandoListaVazia(SubprocessoWorkflowServiceTest.java:633)

582 tests completed, 65 failed

> Task :backend:test FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':backend:test'.
> There were failing tests. See the report at: file:///app/backend/build/reports/tests/test/index.html

* Try:
> Run with --scan to generate a Build Scan (powered by Develocity).

BUILD FAILED in 1m 41s
5 actionable tasks: 1 executed, 4 up-to-date
Configuration cache entry stored.
