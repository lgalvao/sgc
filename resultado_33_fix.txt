
> sgc@1.0.0 test:e2e
> playwright test e2e/cdu-33.spec.ts

[2m[WebServer] [22m[SMTP] Servidor SMTP local executando na porta 1025
[2m[WebServer] [22m[BACKEND] Calculating task graph as no cached configuration is available for tasks: bootRun
[2m[WebServer] [22m[BACKEND] Perfil Spring ativado: e2e
[2m[WebServer] [22m[BACKEND] Carregando configuraÃ§Ãµes de: .env.e2e
[2m[WebServer] [22m[BACKEND] INFO  ValidadorDadosOrgService.run:80: Dados organizacionais validados com sucesso. 18 unidades verificadas.
[2m[WebServer] [22m[FRONTEND]   [32m[1mVITE[22m v7.3.1[39m  [2mready in [0m[1m1097[22m[2m[0m ms[22m
[2m[WebServer] [22m[FRONTEND]   [32mâžœ[39m  [1mLocal[22m:   [36mhttp://localhost:[1m5173[22m/[39m
[2m[WebServer] [22m[FRONTEND] [2m  [32mâžœ[39m  [1mNetwork[22m[2m: use [22m[1m--host[22m[2m to expose[22m
[2m[WebServer] [22m>>> Frontend, Backend e SMTP no ar.

Running 5 tests using 1 worker

[2m[WebServer] [22m[BACKEND] INFO  E2eController.resetDatabase:61: Reset do banco de dados concluÃ­do.
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 191919 autorizado: ADMIN-ADMIN
[2m[WebServer] [22m[BACKEND] INFO  ProcessoManutencaoService.criar:56: Processo 201 criado com 1 unidades participantes
[2m[WebServer] [22m[BACKEND] INFO  ProcessoNotificacaoService.enviarEmailEParaSubstituto:219: E-mail enviado para SECAO_212
[2m[WebServer] [22m[BACKEND] INFO  ProcessoNotificacaoService.enviarEmailEParaSubstituto:219: E-mail enviado para ADMIN
[2m[WebServer] [22m[BACKEND] INFO  ProcessoNotificacaoService.enviarEmailEParaSubstituto:219: E-mail enviado para SECRETARIA_2
[2m[WebServer] [22m[BACKEND] INFO  ProcessoNotificacaoService.enviarEmailEParaSubstituto:219: E-mail enviado para COORD_21
[2m[WebServer] [22m[BACKEND] WARN  MonitoramentoAspect.monitorarExecucao:27: EXECUCAO LENTA: sgc.processo.service.ProcessoNotificacaoService.emailInicioProcesso levou 578 ms
[2m[WebServer] [22m[BACKEND] INFO  ProcessoInicializador.iniciar:74: Processo de mapeamento 201 iniciado para 1 unidade(s): SECAO_212.
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 181818 autorizado: CHEFE-SECAO_212
[2m[WebServer] [22m[BACKEND] INFO  MapaManutencaoService.criarAtividade:132: Criando atividade no mapa 201: Ativ Map 1772235601718
[2m[WebServer] [22m[BACKEND] INFO  MapaManutencaoService.criarConhecimento:258: Criando conhecimento na atividade 3000: Conhecimento Unico Map
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoDireta:1644: NotificaÃ§Ã£o operacional CADASTRO_DISPONIBILIZADO enviada para COORD_21
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoSuperior:1682: NotificaÃ§Ã£o de acompanhamento CADASTRO_DISPONIBILIZADO enviada para unidade SECRETARIA_2
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoSuperior:1682: NotificaÃ§Ã£o de acompanhamento CADASTRO_DISPONIBILIZADO enviada para unidade ADMIN
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 999999 autorizado: GESTOR-COORD_21
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoDireta:1644: NotificaÃ§Ã£o operacional CADASTRO_ACEITO enviada para SECRETARIA_2
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoSuperior:1682: NotificaÃ§Ã£o de acompanhamento CADASTRO_ACEITO enviada para unidade ADMIN
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 212121 autorizado: GESTOR-SECRETARIA_2
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoDireta:1644: NotificaÃ§Ã£o operacional CADASTRO_ACEITO enviada para ADMIN
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 191919 autorizado: ADMIN-ADMIN
[2m[WebServer] [22m[BACKEND] INFO  MapaManutencaoService.criarCompetenciaComAtividades:216: Criando competÃªncia no mapa 201: Comp Map 1772235601718 (1 atividades)
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoDireta:1644: NotificaÃ§Ã£o operacional MAPA_DISPONIBILIZADO enviada para SECAO_212
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 181818 autorizado: CHEFE-SECAO_212
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoDireta:1644: NotificaÃ§Ã£o operacional MAPA_VALIDADO enviada para COORD_21
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoSuperior:1682: NotificaÃ§Ã£o de acompanhamento MAPA_VALIDADO enviada para unidade SECRETARIA_2
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoSuperior:1682: NotificaÃ§Ã£o de acompanhamento MAPA_VALIDADO enviada para unidade ADMIN
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 999999 autorizado: GESTOR-COORD_21
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoDireta:1644: NotificaÃ§Ã£o operacional MAPA_VALIDACAO_ACEITA enviada para SECRETARIA_2
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoSuperior:1682: NotificaÃ§Ã£o de acompanhamento MAPA_VALIDACAO_ACEITA enviada para unidade ADMIN
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 212121 autorizado: GESTOR-SECRETARIA_2
[2m[WebServer] [22m[BACKEND] INFO  SubprocessoService.enviarNotificacaoDireta:1644: NotificaÃ§Ã£o operacional MAPA_VALIDACAO_ACEITA enviada para ADMIN
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 191919 autorizado: ADMIN-ADMIN
[2m[WebServer] [22m[BACKEND] INFO  E2eController.limparProcessoCompleto:115: Limpando processo 201 (modo robusto)
[2m[WebServer] [22m[BACKEND] INFO  ProcessoValidador.validarTodosSubprocessosHomologados:70: Todos os subprocessos do processo 201 estÃ£o homologados
[2m[WebServer] [22m[BACKEND] INFO  ProcessoFinalizador.tornarMapasVigentes:49: Mapa vigente definido para o processo 201
[2m[WebServer] [22m[BACKEND] INFO  ProcessoFinalizador.tornarMapasVigentes:57: Mapa(s) de 1 subprocesso(s) definidos como vigentes.
[2m[WebServer] [22m[BACKEND] INFO  E2eController.limparProcessoCompleto:153: Limpeza robusta do processo 201 concluÃ­da.
[2m[WebServer] [22m[BACKEND] ERROR RestExceptionHandler.handleGenericException:184: [ee06f6ca-71e6-4b93-ab05-759c50da3a66] ERRO NÃƒO TRATADO DETECTADO: Unexpected row count (expected row count 1 but was 0) [update sgc.processo set data_criacao=?,data_finalizacao=?,data_limite=?,descricao=?,situacao=?,tipo=? where codigo=?] for entity [sgc.processo.model.Processo with id '201']
[2m[WebServer] [22m[BACKEND] org.springframework.orm.ObjectOptimisticLockingFailureException: Unexpected row count (expected row count 1 but was 0) [update sgc.processo set data_criacao=?,data_finalizacao=?,data_limite=?,descricao=?,situacao=?,tipo=? where codigo=?] for entity [sgc.processo.model.Processo with id '201']
[2m[WebServer] [22m[BACKEND] 	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:204)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:109)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:223)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:576)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
[2m[WebServer] [22m[BACKEND] 	at jdk.proxy4/jdk.proxy4.$Proxy216.findByIdComParticipantes(Unknown Source)
[2m[WebServer] [22m[BACKEND] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
[2m[WebServer] [22m[BACKEND] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
[2m[WebServer] [22m[BACKEND] 	at sgc.comum.util.MonitoramentoAspect.monitorarExecucao(MonitoramentoAspect.java:21)
[2m[WebServer] [22m[BACKEND] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
[2m[WebServer] [22m[BACKEND] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
[2m[WebServer] [22m[BACKEND] 	at jdk.proxy4/jdk.proxy4.$Proxy216.findByIdComParticipantes(Unknown Source)
[2m[WebServer] [22m[BACKEND] 	at sgc.processo.service.ProcessoNotificacaoService.processarFinalizacaoProcesso(ProcessoNotificacaoService.java:92)
[2m[WebServer] [22m[BACKEND] 	at sgc.processo.service.ProcessoNotificacaoService.emailFinalizacaoProcesso(ProcessoNotificacaoService.java:42)
[2m[WebServer] [22m[BACKEND] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
[2m[WebServer] [22m[BACKEND] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
[2m[WebServer] [22m[BACKEND] 	at sgc.comum.util.MonitoramentoAspect.monitorarExecucao(MonitoramentoAspect.java:21)
[2m[WebServer] [22m[BACKEND] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
[2m[WebServer] [22m[BACKEND] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
[2m[WebServer] [22m[BACKEND] 	at sgc.processo.service.ProcessoNotificacaoService$$SpringCGLIB$$0.emailFinalizacaoProcesso(<generated>)
[2m[WebServer] [22m[BACKEND] 	at sgc.processo.service.ProcessoFinalizador.finalizar(ProcessoFinalizador.java:43)
[2m[WebServer] [22m[BACKEND] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
[2m[WebServer] [22m[BACKEND] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
[2m[WebServer] [22m[BACKEND] 	at sgc.processo.service.ProcessoFinalizador$$SpringCGLIB$$0.finalizar(<generated>)
[2m[WebServer] [22m[BACKEND] 	at sgc.processo.ProcessoFacade.finalizar(ProcessoFacade.java:140)
[2m[WebServer] [22m[BACKEND] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
[2m[WebServer] [22m[BACKEND] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
[2m[WebServer] [22m[BACKEND] 	at sgc.processo.ProcessoFacade$$SpringCGLIB$$0.finalizar(<generated>)
[2m[WebServer] [22m[BACKEND] 	at sgc.processo.ProcessoController.finalizar(ProcessoController.java:142)
[2m[WebServer] [22m[BACKEND] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
[2m[WebServer] [22m[BACKEND] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
[2m[WebServer] [22m[BACKEND] 	at sgc.processo.ProcessoController$$SpringCGLIB$$0.finalizar(<generated>)
[2m[WebServer] [22m[BACKEND] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
[2m[WebServer] [22m[BACKEND] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:252)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:184)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1000)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
[2m[WebServer] [22m[BACKEND] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
[2m[WebServer] [22m[BACKEND] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
[2m[WebServer] [22m[BACKEND] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at sgc.seguranca.login.FiltroJwt.doFilterInternal(FiltroJwt.java:62)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:492)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
[2m[WebServer] [22m[BACKEND] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
[2m[WebServer] [22m[BACKEND] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
[2m[WebServer] [22m[BACKEND] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
[2m[WebServer] [22m[BACKEND] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
[2m[WebServer] [22m[BACKEND] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1779)
[2m[WebServer] [22m[BACKEND] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
[2m[WebServer] [22m[BACKEND] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
[2m[WebServer] [22m[BACKEND] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
[2m[WebServer] [22m[BACKEND] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
[2m[WebServer] [22m[BACKEND] 	at java.base/java.lang.Thread.run(Thread.java:1583)
[2m[WebServer] [22m[BACKEND] Caused by: org.hibernate.StaleObjectStateException: Unexpected row count (expected row count 1 but was 0) [update sgc.processo set data_criacao=?,data_finalizacao=?,data_limite=?,descricao=?,situacao=?,tipo=? where codigo=?] for entity [sgc.processo.model.Processo with id '201']
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.identifiedResultsCheck(ModelMutationHelper.java:73)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.resultCheck(UpdateCoordinatorStandard.java:1025)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.lambda$doStaticUpdate$1(UpdateCoordinatorStandard.java:781)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.checkResults(ModelMutationHelper.java:48)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:152)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:53)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:66)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:776)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:313)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.update(UpdateCoordinatorStandard.java:231)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:161)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:634)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:505)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:381)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:56)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1440)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:126)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:427)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:355)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.query.sqm.internal.SqmQueryImpl.doList(SqmQueryImpl.java:374)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:153)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:330)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
[2m[WebServer] [22m[BACKEND] 	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
[2m[WebServer] [22m[BACKEND] 	... 208 common frames omitted
[2m[WebServer] [22m[BACKEND] Caused by: org.hibernate.StaleStateException: Unexpected row count (expected row count 1 but was 0) [update sgc.processo set data_criacao=?,data_finalizacao=?,data_limite=?,descricao=?,situacao=?,tipo=? where codigo=?]
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.jdbc.Expectations.checkNonBatched(Expectations.java:93)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.jdbc.Expectation$RowCount.verifyOutcome(Expectation.java:170)
[2m[WebServer] [22m[BACKEND] 	at org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.identifiedResultsCheck(ModelMutationHelper.java:60)
[2m[WebServer] [22m[BACKEND] 	... 246 common frames omitted

[90m[[90m11:40:35 PM[90m][39m [41m[30m ERROR [39m[49m [BROWSER ERROR] Failed to load resource: the server responded with a status of 500 ()


[90m[[90m11:40:36 PM[90m][39m [43m[30m WARN [39m[49m [NETWORK ERROR] 500 POST http://localhost:10000/api/processos/201/finalizar

[90m[[90m11:40:36 PM[90m][39m [36mâ„¹[39m [NETWORK BODY] {"code":"ERRO_INTERNO","details":{},"message":"ERRO INESPERADO: Unexpected row count (expected row count 1 but was 0) [update sgc.processo set data_criacao=?,data_finalizacao=?,data_limite=?,descricao=?,situacao=?,tipo=? where codigo=?] for entity [sgc.processo.model.Processo with id '201']","stackTrace":"org.springframework.orm.ObjectOptimisticLockingFailureException: Unexpected row count (expected row count 1 but was 0) [update sgc.processo set data_criacao=?,data_finalizacao=?,data_limite=?,d...
  âœ“  1 [chromium] â€º e2e/cdu-33.spec.ts:39:5 â€º CDU-33 - Reabrir revisÃ£o de cadastro â€º Preparacao 0: Criar e finalizar Mapeamento (27.8s)
[2m[WebServer] [22m[BACKEND] INFO  LoginFacade.entrar:115: UsuÃ¡rio 191919 autorizado: ADMIN-ADMIN
  âœ˜  2 [chromium] â€º e2e/cdu-33.spec.ts:124:5 â€º CDU-33 - Reabrir revisÃ£o de cadastro â€º Preparacao 1: Admin cria e inicia processo de REVISAO (6.2s)
  -  3 [chromium] â€º e2e/cdu-33.spec.ts:145:5 â€º CDU-33 - Reabrir revisÃ£o de cadastro â€º Preparacao 2: Chefe disponibiliza revisÃ£o de cadastro
  -  4 [chromium] â€º e2e/cdu-33.spec.ts:158:5 â€º CDU-33 - Reabrir revisÃ£o de cadastro â€º Preparacao 3: Gestores e ADMIN aceitam revisÃ£o
  -  5 [chromium] â€º e2e/cdu-33.spec.ts:184:5 â€º CDU-33 - Reabrir revisÃ£o de cadastro â€º CenÃ¡rios CDU-33: ADMIN reabre revisÃ£o de cadastro


  1) [chromium] â€º e2e/cdu-33.spec.ts:124:5 â€º CDU-33 - Reabrir revisÃ£o de cadastro â€º Preparacao 1: Admin cria e inicia processo de REVISAO

    Error: Unidade SECAO_212 nÃ£o estÃ¡ selecionÃ¡vel para criaÃ§Ã£o do processo.

       at helpers/helpers-processos.ts:49

      47 |         if (!await checkbox.isChecked()) {
      48 |             if (!await checkbox.isEnabled()) {
    > 49 |                 throw new Error(`Unidade ${u} nÃ£o estÃ¡ selecionÃ¡vel para criaÃ§Ã£o do processo.`);
         |                       ^
      50 |             }
      51 |             await checkbox.check();
      52 |         }
        at criarProcesso (/app/e2e/helpers/helpers-processos.ts:49:23)
        at /app/e2e/cdu-33.spec.ts:125:9

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/cdu-33-CDU-33---Reabrir-re-3c292--inicia-processo-de-REVISAO-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/cdu-33-CDU-33---Reabrir-re-3c292--inicia-processo-de-REVISAO-chromium/error-context.md

  1 failed
    [chromium] â€º e2e/cdu-33.spec.ts:124:5 â€º CDU-33 - Reabrir revisÃ£o de cadastro â€º Preparacao 1: Admin cria e inicia processo de REVISAO
  3 did not run
  1 passed (1.4m)
